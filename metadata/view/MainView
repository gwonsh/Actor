{
    "type": "Ext.container.Viewport",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|initialView": true,
        "designer|userAlias": "mainview",
        "designer|userClassName": "MainView",
        "height": 250,
        "id": "mainView",
        "layout": "border",
        "width": 400
    },
    "configAlternates": {
        "designer|initialView": "boolean",
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "height": "auto",
        "id": "string",
        "layout": "string",
        "width": "auto"
    },
    "name": "MainView1",
    "designerId": "c53334ce-b7e9-492c-868a-0c4cd73a7d8e",
    "viewControllerInstanceId": "d8b632f4-61c9-440a-9404-b7307cd5f474",
    "viewModelInstanceId": "a29c14be-c45a-4146-8b0f-2c35ed274eca",
    "cn": [
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "height": 45,
                "hidden": true,
                "id": "headerPanel",
                "itemId": null,
                "layout": "hbox",
                "layout|region": "north",
                "style": [
                    "{",
                    "    'background-color':'#252432'",
                    "    ",
                    "}"
                ]
            },
            "configAlternates": {
                "container|align": "string",
                "height": "auto",
                "itemId": "string",
                "layout": "string",
                "layout|region": "string",
                "style": "object",
                "hidden": "boolean",
                "id": "string"
            },
            "name": "MyContainer",
            "designerId": "cb72267f-d98e-40f8-9577-b6909602afb1",
            "cn": [
                {
                    "type": "Ext.container.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "middle",
                        "designer|displayName": "logoCon",
                        "layout": "hbox",
                        "layout|flex": null,
                        "style": null,
                        "width": 240
                    },
                    "configAlternates": {
                        "container|align": "string",
                        "designer|displayName": "string",
                        "layout": "string",
                        "layout|flex": "number",
                        "width": "auto",
                        "style": "string"
                    },
                    "name": "MyContainer2",
                    "designerId": "e1e1abf9-7745-4d99-bf83-a77559d3c1cf",
                    "cn": [
                        {
                            "type": "Ext.form.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "flex": 1,
                                "style": [
                                    "{",
                                    "    color:'white',",
                                    "    'font-weight':700,",
                                    "    'font-size':'16px',",
                                    "    'margin-left':'12px'",
                                    "    ",
                                    "}"
                                ],
                                "text": [
                                    "{siteName}"
                                ]
                            },
                            "configAlternates": {
                                "flex": "number",
                                "style": "object",
                                "text": "binding"
                            },
                            "name": "MyLabel",
                            "designerId": "02fbac87-534f-4696-9d5b-82cbf748de72"
                        }
                    ]
                },
                {
                    "type": "Ext.container.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "middle",
                        "id": "shortcutBar",
                        "layout": "hbox",
                        "layout|flex": null,
                        "style": null
                    },
                    "configAlternates": {
                        "container|align": "string",
                        "id": "string",
                        "layout": "string",
                        "layout|flex": "number",
                        "style": "string"
                    },
                    "name": "MyContainer1",
                    "designerId": "a61e89e9-0b34-4436-ad49-c27f6fd76888"
                },
                {
                    "type": "Ext.toolbar.Spacer",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": 1
                    },
                    "configAlternates": {
                        "layout|flex": "number"
                    },
                    "name": "MySpacer8",
                    "designerId": "0b977ab7-a4d1-45fd-94cf-3b4bc6895251"
                },
                {
                    "type": "Ext.container.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "middle",
                        "container|padding": "0 10 0 10",
                        "height": "100%",
                        "id": "topToolbar",
                        "itemId": "topToolbar",
                        "layout": "hbox",
                        "layout|flex": null,
                        "style": [
                            "{",
                            "    'background-color':'#304e7b'",
                            "}"
                        ],
                        "width": null
                    },
                    "configAlternates": {
                        "container|align": "string",
                        "height": "auto",
                        "itemId": "string",
                        "layout": "string",
                        "layout|flex": "number",
                        "width": "auto",
                        "container|padding": "auto",
                        "id": "string",
                        "style": "object"
                    },
                    "name": "MyContainer16",
                    "designerId": "ce3a58c9-0fa2-4161-988f-ad52854b9a52",
                    "cn": [
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|uiInterfaceName": "plain-toolbar-small",
                                "iconCls": "fa fa-user",
                                "itemId": "btnUser",
                                "layout|flex": null,
                                "style": null,
                                "text": null,
                                "tooltip": [
                                    "{userInfo}"
                                ],
                                "ui": "plain-toolbar-small"
                            },
                            "configAlternates": {
                                "designer|uiInterfaceName": "string",
                                "iconCls": "string",
                                "layout|flex": "number",
                                "text": "string",
                                "ui": "string",
                                "itemId": "string",
                                "style": "object",
                                "tooltip": "binding"
                            },
                            "name": "MyButton20",
                            "designerId": "c35c0df5-ceac-4804-9611-7b92e06d0005",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "var newUserInfo = {};",
                                            "Ext.Object.each(userInfo, function(key, value){",
                                            "    newUserInfo[key] = value;",
                                            "});",
                                            "",
                                            "",
                                            "var obj = {};",
                                            "obj.nv_id = userInfo.nv_id;",
                                            "obj.nv_name = userInfo.nv_name;",
                                            "obj.nv_phone = userInfo.nv_phone;",
                                            "obj.nv_cellphone = userInfo.nv_cellphone;",
                                            "obj.nv_file = userInfo.nv_file;",
                                            "obj.nv_addr1 = userInfo.nv_addr1;",
                                            "obj.nv_addr2 = userInfo.nv_addr2;",
                                            "obj.nv_duty = userInfo.nv_duty;",
                                            "obj.nv_email = userInfo.nv_email;",
                                            "obj.nv_sex = userInfo.nv_sex;",
                                            "obj.nv_nick = userInfo.nv_nick;",
                                            "",
                                            "",
                                            "/* combo for selecting a gender */",
                                            "var comboSx = Ext.create('Ext.form.ComboBox',{",
                                            "    fieldLabel:'',",
                                            "    store:[loc.member.male, loc.member.female]",
                                            "});",
                                            "///////////////////////////////////////",
                                            "// window for showing user informaiton//",
                                            "///////////////////////////////////////",
                                            "var win = Ext.create('Ext.window.Window', {",
                                            "    title:loc.member.profile,",
                                            "    padding:10,",
                                            "    layout:{",
                                            "        type:'vbox',",
                                            "        pack:'center'",
                                            "    },",
                                            "    items:[",
                                            "        {",
                                            "            ///////////////////////////////////////",
                                            "            // property grid for user informaiton//",
                                            "            ///////////////////////////////////////",
                                            "            xtype:'propertygrid',",
                                            "            width:400,",
                                            "            source:obj,",
                                            "            hideHeaders:true,",
                                            "            customRenderers:{",
                                            "                nv_file:function(v){",
                                            "                    var value = '<div style=\"width:50px;height:50px;background-image:url(\\''+v+'\\');background-position:center;';",
                                            "                    value    += 'background-size:cover\"></div>';",
                                            "                    return value;",
                                            "                }",
                                            "            },",
                                            "            customEditors:{",
                                            "                nv_sex :comboSx",
                                            "            },",
                                            "            propertyNames:{",
                                            "                nv_name:loc.member.name,",
                                            "                nv_file:loc.member.photo,",
                                            "                nv_id:loc.member.userId,",
                                            "                nv_phone:loc.member.phone,",
                                            "                nv_cellphone:loc.member.cellPhone,",
                                            "                nv_addr1:loc.member.addr1,",
                                            "                nv_addr2:loc.member.addr2,",
                                            "                nv_duty:loc.member.position,",
                                            "                nv_email:loc.member.email,",
                                            "                nv_sex:loc.member.sex,",
                                            "                nv_nick:loc.member.nickname,",
                                            "            },",
                                            "            listeners: {",
                                            "                beforeedit: function( editor, e, opts ) {",
                                            "                    if( e.record.get('name')== 'nv_id') {//id can't modify",
                                            "                        return false;",
                                            "                    }",
                                            "                }",
                                            "            }",
                                            "",
                                            "        },",
                                            "        {",
                                            "            xtype:'container',",
                                            "            width:'100%',",
                                            "            padding:20,",
                                            "            layout:{",
                                            "                type:'hbox',",
                                            "                pack:'center'",
                                            "            },",
                                            "            items:[",
                                            "                {",
                                            "                    /////////////////////////////////",
                                            "                    // button for changing password//",
                                            "                    /////////////////////////////////",
                                            "                    xtype:'button',",
                                            "                    text:loc.member.changePassword,",
                                            "                    ui:'plain-toolbar-small',",
                                            "                    handler:function(button){",
                                            "                        /////////////////////////////////",
                                            "                        // window for changing password//",
                                            "                        /////////////////////////////////",
                                            "                        var passWin = Ext.create('Ext.window.Window', {",
                                            "                            title:loc.member.changePassword,",
                                            "                            layout:{",
                                            "                                type:'vbox',",
                                            "                                pack:'center'",
                                            "                            },",
                                            "                            padding:'10 20 20 20',",
                                            "                            items:[",
                                            "                                {",
                                            "                                    xtype:'textfield',",
                                            "                                    itemId:'fdPass',",
                                            "                                    fieldLabel:loc.login.password,",
                                            "                                    labelAlign:'top',",
                                            "                                    inputType:'password'",
                                            "                                },",
                                            "                                {",
                                            "                                    xtype:'textfield',",
                                            "                                    itemId:'fdNewPass',",
                                            "                                    fieldLabel:loc.member.newPassword,",
                                            "                                    labelAlign:'top',",
                                            "                                    inputType:'password'",
                                            "                                },",
                                            "                                {",
                                            "                                    xtype:'textfield',",
                                            "                                    itemId:'fdCheckPass',",
                                            "                                    fieldLabel:loc.member.checkNewPassword,",
                                            "                                    labelAlign:'top',",
                                            "                                    inputType:'password'",
                                            "                                },",
                                            "                                {",
                                            "                                /////////////////////////////////////////",
                                            "                                // button for save the changed password//",
                                            "                                /////////////////////////////////////////",
                                            "                                    xtype:'button',",
                                            "                                    text:loc.member.change,",
                                            "                                    handler:function(button){",
                                            "                                        var curPass = button.up('window').down('#fdPass').getValue();",
                                            "                                        var newPass = button.up('window').down('#fdNewPass').getValue();",
                                            "                                        var chkPass = button.up('window').down('#fdCheckPass').getValue();",
                                            "                                        if(curPass.trim() === ''){",
                                            "                                            Ext.toast(loc.error.needPassword);",
                                            "                                            button.up('window').down('#fdPass').focus();",
                                            "                                            return;",
                                            "                                        }",
                                            "                                        if(newPass.trim() === ''){",
                                            "                                            Ext.toast(loc.error.needNewPassword);",
                                            "                                            button.up('window').down('#fdNewPass').focus();",
                                            "                                            return;",
                                            "                                        }",
                                            "                                        if(chkPass.trim() === ''){",
                                            "                                            Ext.toast(loc.error.needCheckPassword);",
                                            "                                            button.up('window').down('#fdCheckPass').focus();",
                                            "                                            return;",
                                            "                                        }",
                                            "                                        if(newPass != chkPass){",
                                            "                                            Ext.toast(loc.error.twoPasswordNotMatch);",
                                            "                                            return;",
                                            "                                        }",
                                            "",
                                            "                                        userInfo.nv_pass = newPass;",
                                            "                                        Ext.data.JsonP.request({",
                                            "                                            url:getLoginApi(),",
                                            "                                            params:{",
                                            "                                                nv_id:sessionId,",
                                            "                                                nv_pass:curPass",
                                            "                                            },",
                                            "                                            success:function(response){",
                                            "                                                if(!isHtml5()){",
                                            "                                                    alert(loc.config.isNeedHtml5);",
                                            "                                                    return;",
                                            "                                                }",
                                            "                                                if(!response.result){",
                                            "                                                    Ext.toast(loc.error.wrongPassword);",
                                            "                                                    button.up('window').down('#fdPass').focus();",
                                            "                                                    return;",
                                            "                                                }",
                                            "                                                else{",
                                            "                                                    /* update by formdata */",
                                            "                                                    var fd = new FormData();",
                                            "                                                    Ext.Object.each(userInfo, function(key, value){",
                                            "                                                        fd.append(key, value);",
                                            "                                                    });",
                                            "",
                                            "                                                    var request = new XMLHttpRequest();",
                                            "                                                    request.open('POST', getMemberUpdateApi());",
                                            "                                                    request.onload = function(){",
                                            "                                                        if(request.status != 200){",
                                            "                                                            alert('Error \" + oReq.status + \" occurred when trying to update.<br \\/>');",
                                            "                                                        }",
                                            "                                                        else{",
                                            "                                                            Ext.toast(loc.member.updateComplete);",
                                            "                                                            Ext.toast(loc.login.programRestart);",
                                            "                                                            setTimeout(function(){",
                                            "                                                                Ext.getCmp('headerPanel').down('#btnLogout').fireEvent('click');",
                                            "                                                            }, 1000);",
                                            "                                                        }",
                                            "                                                    };",
                                            "                                                    request.send(fd);",
                                            "                                                }",
                                            "                                            },",
                                            "                                            failure:function(response){",
                                            "                                                alert('Network connection problem');",
                                            "                                            }",
                                            "",
                                            "                                        });",
                                            "                                    }",
                                            "                                }",
                                            "                            ]",
                                            "                        }).show();",
                                            "                    },",
                                            "                    listeners:{",
                                            "                        afterrender:function(button){",
                                            "                            var bEl = button.el.select('.x-btn-inner').elements[0];",
                                            "                            Ext.get(bEl).setStyle({color:'#5fa2dd'});",
                                            "                        }",
                                            "                    }",
                                            "                },",
                                            "                {",
                                            "                    /////////////////////////////////////",
                                            "                    // button for save user information//",
                                            "                    /////////////////////////////////////",
                                            "                    xtype:'button',",
                                            "                    text:loc.config.save,",
                                            "                    handler:function(button){",
                                            "                        var isChanged = false;",
                                            "                        /* check if the changed field exists */",
                                            "                        Ext.Object.each(obj, function(key, value){",
                                            "                            if(value != userInfo[key]){",
                                            "                                isChanged = true;",
                                            "                                newUserInfo[key] = value;//save only changed user information to update",
                                            "                            }",
                                            "                        });",
                                            "                        if(isChanged){//if something has changed",
                                            "                            var passWin = Ext.create('Ext.window.Window', {",
                                            "                                padding:'10 20 10 20',",
                                            "                                items:[",
                                            "                                    {",
                                            "                                        xtype:'label',",
                                            "                                        text:loc.member.passwordForSecurity,",
                                            "                                        cls:'form-title-label'",
                                            "                                    },",
                                            "                                    {",
                                            "                                        xtype:'textfield',",
                                            "                                        fieldLabel:loc.login.password,",
                                            "                                        labelAlign:'top',",
                                            "                                        inputType:'password',",
                                            "                                        itemId:'fdPass'",
                                            "                                    },",
                                            "                                    {",
                                            "                                        xtype:'button',",
                                            "                                        text:loc.main.ok,",
                                            "                                        handler:function(button){",
                                            "                                            Ext.data.JsonP.request({",
                                            "                                                url:getLoginApi(),",
                                            "                                                params:{",
                                            "                                                    nv_id:sessionId,",
                                            "                                                    nv_pass:passWin.down('#fdPass').getValue()",
                                            "                                                },",
                                            "                                                success:function(response){",
                                            "                                                    if(response.result){ //if logined update the changed user information",
                                            "                                                        Ext.MessageBox.confirm('Confirm', loc.main.updateChanges, function(button){",
                                            "                                                            if(button == 'yes'){",
                                            "                                                                if(!isHtml5()){",
                                            "                                                                    alert(loc.config.isNeedHtml5);",
                                            "                                                                    return;",
                                            "                                                                }",
                                            "",
                                            "                                                                /* update by formdata */",
                                            "                                                                var fd = new FormData();",
                                            "                                                                Ext.Object.each(newUserInfo, function(key, value){",
                                            "                                                                    fd.append(key, value);",
                                            "                                                                });",
                                            "",
                                            "                                                                var request = new XMLHttpRequest();",
                                            "                                                                request.open('POST', getMemberUpdateApi());",
                                            "                                                                request.onload = function(){",
                                            "                                                                    if(request.status != 200){",
                                            "                                                                        alert('Error \" + oReq.status + \" occurred when trying to update.<br \\/>');",
                                            "                                                                    }",
                                            "                                                                    else{",
                                            "                                                                        userInfo = newUserInfo;",
                                            "                                                                        Ext.toast(loc.member.updateComplete);",
                                            "                                                                        passWin .close();",
                                            "                                                                        win.close();",
                                            "                                                                    }",
                                            "                                                                };",
                                            "                                                                request.send(fd);",
                                            "                                                            }",
                                            "                                                        });                                        }",
                                            "                                                    else{",
                                            "                                                        Ext.toast(loc.login.loginInfo);",
                                            "                                                    }",
                                            "                                                },",
                                            "                                                failure:function(response){",
                                            "                                                    alert('Network connection problem');",
                                            "                                                }",
                                            "",
                                            "                                            });",
                                            "                                        }",
                                            "                                    }",
                                            "                                ]",
                                            "",
                                            "                            }).show();",
                                            "                        }",
                                            "                        else{//nothing has been changed",
                                            "                            Ext.toast(loc.member.updateComplete);",
                                            "                            win.close();",
                                            "                        }",
                                            "                    }",
                                            "                }",
                                            "            ]",
                                            "        }",
                                            "",
                                            "    ]",
                                            "}).show();",
                                            ""
                                        ]
                                    },
                                    "configAlternates": {
                                        "designer|params": "typedarray",
                                        "fn": "string",
                                        "implHandler": "code"
                                    },
                                    "name": "handler",
                                    "designerId": "f1dd14d3-6c46-4e76-b2eb-68e5c48e9d33"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|uiInterfaceName": "plain-toolbar-small",
                                "iconCls": "fa fa-book",
                                "itemId": "btnUsers",
                                "layout|flex": null,
                                "style": null,
                                "text": null,
                                "tooltip": [
                                    "{userList}"
                                ],
                                "ui": "plain-toolbar-small"
                            },
                            "configAlternates": {
                                "designer|uiInterfaceName": "string",
                                "iconCls": "string",
                                "layout|flex": "number",
                                "text": "string",
                                "ui": "string",
                                "tooltip": "binding",
                                "itemId": "string",
                                "style": "object"
                            },
                            "name": "MyButton19",
                            "designerId": "cdceddc3-85e6-4525-b994-a35746ed65cc",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "getController('Work').selectMember('', 'textMessage');"
                                        ]
                                    },
                                    "configAlternates": {
                                        "designer|params": "typedarray",
                                        "fn": "string",
                                        "implHandler": "code"
                                    },
                                    "name": "handler",
                                    "designerId": "d980df87-3b24-438c-b80b-33b638b85d34"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|uiInterfaceName": "plain-toolbar-small",
                                "iconCls": "fa fa-sign-out",
                                "itemId": "btnLogout",
                                "layout|flex": null,
                                "style": null,
                                "text": null,
                                "tooltip": [
                                    "{logout}"
                                ],
                                "ui": "plain-toolbar-small"
                            },
                            "configAlternates": {
                                "style": "string",
                                "designer|uiInterfaceName": "string",
                                "iconCls": "string",
                                "layout|flex": "number",
                                "text": "string",
                                "ui": "string",
                                "tooltip": "binding",
                                "itemId": "string"
                            },
                            "name": "MyButton8",
                            "designerId": "4eacce20-e460-4544-89e0-2d1a9e029b71",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onBtnLogoutClick",
                                        "implHandler": [
                                            "var logoutFrame = Ext.getBody().createChild({",
                                            "    tag:'iframe',",
                                            "    cls:'x-hidden',",
                                            "    id:'iFrame',",
                                            "    name:'iFrame',",
                                            "    isReady:false",
                                            "});",
                                            "var logout = function logoutApp(){",
                                            "    document.location.href = 'index.html';",
                                            "};",
                                            "var url = domain + \"/member/logout\";",
                                            "logoutFrame.dom.src = url;",
                                            "",
                                            "setTimeout(logout, 500);"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onBtnLogoutClick",
                                    "designerId": "4fc9ec61-027f-4b35-82dd-2c100046b130"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|uiInterfaceName": "plain-toolbar-small",
                                "hidden": true,
                                "iconCls": "fa fa-home",
                                "itemId": "btnGoPd",
                                "layout|flex": null,
                                "style": null,
                                "text": null,
                                "ui": "plain-toolbar-small"
                            },
                            "configAlternates": {
                                "style": "string",
                                "designer|uiInterfaceName": "string",
                                "iconCls": "string",
                                "layout|flex": "number",
                                "text": "string",
                                "ui": "string",
                                "itemId": "string",
                                "hidden": "boolean"
                            },
                            "name": "MyButton36",
                            "designerId": "f3a34495-dc6f-436b-ba5f-2d55a93948da",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onBtnGoPdClick",
                                        "implHandler": [
                                            "var pdURL = domain + '/main/category.jsp';",
                                            "window.open(pdURL, '_blank');"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onBtnGoPdClick",
                                    "designerId": "ace5a213-3633-4abc-a17a-ca3497e91ab9"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|uiInterfaceName": "plain-toolbar-small",
                                "iconCls": "fa fa-info",
                                "itemId": "btnVertion",
                                "layout|flex": null,
                                "style": null,
                                "text": null,
                                "ui": "plain-toolbar-small"
                            },
                            "configAlternates": {
                                "style": "string",
                                "designer|uiInterfaceName": "string",
                                "iconCls": "string",
                                "layout|flex": "number",
                                "text": "string",
                                "ui": "string",
                                "itemId": "string",
                                "hidden": "boolean"
                            },
                            "name": "MyButton38",
                            "designerId": "631821c1-67d6-443b-a4b9-988b99ef184f",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onBtnVersionClick",
                                        "implHandler": [
                                            "Ext.create('Ext.window.Window', {",
                                            "    with:350,",
                                            "    height:120,",
                                            "    layout:'vbox',",
                                            "    title:'Version',",
                                            "    iconCls:'fa fa-info',",
                                            "    padding:20,",
                                            "    items:[",
                                            "        {",
                                            "            xtype:'label',",
                                            "            text:'PD version : 11',",
                                            "        },",
                                            "        {",
                                            "            xtype:'label',",
                                            "            text:'Actor vertion : 4.171201'",
                                            "        }",
                                            "    ]",
                                            "}).show();"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onBtnVersionClick",
                                    "designerId": "738dc72f-7548-4273-8bef-c53461c688b0"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "collapseDirection": "left",
                "collapsible": true,
                "container|align": "stretch",
                "header": false,
                "hidden": true,
                "id": "westPanel",
                "layout": "vbox",
                "layout|region": "west",
                "layout|split": true,
                "sales": [
                    "[]"
                ],
                "style": [
                    "{",
                    "    'border-right':'1px solid #cfd3d6'",
                    "}"
                ],
                "title": [
                    "{category}"
                ],
                "width": 240
            },
            "configAlternates": {
                "collapseDirection": "string",
                "collapsible": "boolean",
                "container|align": "string",
                "header": "boolean",
                "id": "string",
                "layout": "string",
                "layout|region": "string",
                "layout|split": "boolean",
                "title": "binding",
                "width": "auto",
                "style": "object",
                "hidden": "boolean",
                "sales": "array"
            },
            "name": "MyPanel",
            "designerId": "11108cd0-42f5-4e85-834f-c58b4ea19fa9",
            "customConfigs": [
                {
                    "group": "(Custom Properties)",
                    "name": "sales",
                    "type": "string"
                }
            ],
            "cn": [
                {
                    "type": "linkedinstance",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": 1
                    },
                    "configAlternates": {
                        "layout|flex": "number"
                    },
                    "name": "categorycontainer",
                    "designerId": "1151247e-060a-450b-833b-7e0fe597da36",
                    "masterInstanceId": "4441431a-9f14-4ee2-9741-63c7c6e31e0d"
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "collapseFirst": false,
                "collapsible": false,
                "header": false,
                "hidden": true,
                "id": "centerPanel",
                "layout": "border",
                "layout|flex": null,
                "layout|region": "center",
                "layout|split": true,
                "style": null,
                "title": "Center"
            },
            "configAlternates": {
                "id": "string",
                "layout|flex": "number",
                "layout|region": "string",
                "layout|split": "boolean",
                "style": "object",
                "layout": "string",
                "hidden": "boolean",
                "collapseFirst": "boolean",
                "collapsible": "boolean",
                "header": "boolean",
                "title": "string"
            },
            "name": "MyPanel5",
            "designerId": "8af67e0c-2866-40d4-8648-668a010749be",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "header": false,
                        "itemId": "contentPanel",
                        "layout": "border",
                        "layout|region": "center",
                        "title": null
                    },
                    "configAlternates": {
                        "header": "boolean",
                        "itemId": "string",
                        "layout": "string",
                        "layout|region": "string",
                        "title": "string"
                    },
                    "name": "MyPanel2",
                    "designerId": "6decdb41-10a7-404f-8723-c22b4d2f8fa9",
                    "cn": [
                        {
                            "type": "Ext.container.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|padding": "0 0 0 20",
                                "height": 70,
                                "id": "mainIconPanel",
                                "layout": "hbox",
                                "layout|region": "north",
                                "style": [
                                    "{",
                                    "    'background-color':'#304e7b'",
                                    "}"
                                ]
                            },
                            "configAlternates": {
                                "container|align": "string",
                                "height": "auto",
                                "id": "string",
                                "layout": "string",
                                "layout|region": "string",
                                "style": "object",
                                "container|padding": "auto"
                            },
                            "name": "MyContainer14",
                            "designerId": "c601fbd0-5b59-4744-b89c-c4633c1a3402",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "height": null,
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-file-o",
                                        "itemId": "btnNew",
                                        "layout|flex": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{newPost}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "height": "auto",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton2",
                                    "designerId": "2eb7ea78-5878-4884-878f-222e3e6e7d63",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnNewClick",
                                                "implHandler": [
                                                    "var activeTab = this.getActiveTab();",
                                                    "if(!activeTab){",
                                                    "    Ext.toast(loc.config.noCategorySelect);",
                                                    "    return;",
                                                    "}",
                                                    "if(activeTab.isMessage){",
                                                    "    getController('Main').selectMember('', 'message');",
                                                    "    return;",
                                                    "}",
                                                    "if(!getController('Main').hasUserPermission('write')){//check the wite permission",
                                                    "    Ext.toast(loc.error.lowerLevelToWrite);",
                                                    "    return;",
                                                    "}",
                                                    "var caOpt = activeTab.cateOption;",
                                                    "if(caOpt.categoryCode == 'member'){",
                                                    "    getController('Main').selectMember(activeTab.categoryId);",
                                                    "}",
                                                    "else{",
                                                    "    /* get new data values */",
                                                    "    Ext.data.JsonP.request({",
                                                    "        url:getDataWriteApi(),",
                                                    "        params:{",
                                                    "            ca_id:activeTab.categoryId,",
                                                    "            html:0",
                                                    "        },",
                                                    "        success:function(response){",
                                                    "            var colsList = response.categoryColsList;",
                                                    "            getController('Post').showNewPost(activeTab, '', colsList);",
                                                    "        },",
                                                    "        failure:function(response){",
                                                    "            alert(loc.main.networkProblem);",
                                                    "        }",
                                                    "",
                                                    "    });",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnNewClick",
                                            "designerId": "ad264064-6bb2-46ce-aa52-f701777f4dc1"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "height": null,
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-clone",
                                        "itemId": "btnCopy",
                                        "layout|flex": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{copy}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "height": "auto",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton6",
                                    "designerId": "fbe7e76b-2d72-4e72-a2d2-0a3c73318338",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnCopyClick",
                                                "implHandler": [
                                                    "// create new category store to avoid conflict with the store in main tree",
                                                    "var me = this;",
                                                    "var selected = me.getSelected();",
                                                    "if(selected === undefined){",
                                                    "    Ext.toast(loc.config.noCategorySelect);",
                                                    "    return;",
                                                    "}",
                                                    "if(selected.length === 0){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "if(selected.length > 1){",
                                                    "    Ext.toast(loc.main.selectOnlyOne);",
                                                    "    return;",
                                                    "}",
                                                    "if(!getController('Main').hasUserPermission('copy')){//check the permission",
                                                    "    Ext.toast(loc.error.lowerLevelToCopy);",
                                                    "    return;",
                                                    "}",
                                                    "var bdIdx = selected[0].get('bd_idx');",
                                                    "var sStore = Ext.create('Ext.data.TreeStore', {",
                                                    "    model: 'Actor.model.CategoryModel',",
                                                    "    autoLoad:true,",
                                                    "    proxy: {",
                                                    "        type: 'jsonp',",
                                                    "        api: {",
                                                    "            read: getCategoryListApi()",
                                                    "        },",
                                                    "        reader: {",
                                                    "            type: 'json'",
                                                    "        }",
                                                    "    },",
                                                    "    filters: {",
                                                    "        filterFn: function(item) {",
                                                    "            var opt = {};",
                                                    "            if(item.get('option')) opt = getOption(item.get('option'));",
                                                    "            if(!item.get('isHidden') && !item.get('isBoard')) show =  true;",
                                                    "            if(opt.categoryCode == 'workGroup') show = false;",
                                                    "            if(opt.categoryCode == 'taskGroup') show = false;",
                                                    "            if(opt.categoryCode == 'salesGroup') show = false;",
                                                    "            return show;",
                                                    "        }",
                                                    "    }",
                                                    "});",
                                                    "var copyWin = Ext.create('Ext.window.Window', {",
                                                    "    modal:true,",
                                                    "    ghost:false,",
                                                    "    scrollable:true,",
                                                    "    title:loc.upload.selectCategory,",
                                                    "    padding:20,",
                                                    "    items:[",
                                                    "        {",
                                                    "            xtype:'label',",
                                                    "            cls: 'form-title-label',",
                                                    "            text:loc.menu.copyToCurrentCategory//copyt to current category",
                                                    "        },",
                                                    "        {",
                                                    "            xtype:'checkboxfield',",
                                                    "            labelWidth:0,",
                                                    "            padding:'10 0 10 0',",
                                                    "            listeners:{",
                                                    "                change:function(sb){",
                                                    "                    if(sb.value){",
                                                    "                        var cId = me.getActiveTab().categoryId;",
                                                    "                        var title = me.getActiveTab().title;",
                                                    "                        var selected = me.getSelected();",
                                                    "                        var bdIdx = selected[0].get('bd_idx');",
                                                    "                        me.copyData(cId, bdIdx, title);",
                                                    "                    }",
                                                    "                }",
                                                    "            }",
                                                    "        },",
                                                    "        {",
                                                    "            xtype:'label',",
                                                    "            cls: 'form-title-label',",
                                                    "            text:loc.upload.selectCategory//select category",
                                                    "        },",
                                                    "        {",
                                                    "            xtype: 'treepanel',",
                                                    "            width:400,",
                                                    "            height:500,",
                                                    "            title:'Tree',",
                                                    "            rootVisible:false,",
                                                    "            store:sStore,",
                                                    "            frameHeader: false,",
                                                    "            header: {",
                                                    "                hidden: true",
                                                    "            },",
                                                    "            hideHeaders: true,",
                                                    "            columns: [",
                                                    "                {",
                                                    "                    xtype: 'treecolumn',",
                                                    "                    dataIndex:'title',",
                                                    "                    width: '100%',",
                                                    "                    renderer:function(value, metaData, record, rowIndex, colIndex, store, view){",
                                                    "                        var caOpt = getOption(record.get('option'));",
                                                    "                        var cIcon = caOpt.icon;",
                                                    "                        //in case no icon, set default",
                                                    "                        if(!cIcon) cIcon = 'folder-o';",
                                                    "                        var css = 'style=\"float:right;cursor:pointer;opacity:0.4\"';",
                                                    "                        var val = '';",
                                                    "                        val    += \t'<i class=\"fa fa-'+cIcon+'\" aria-hidden=\"true\"></i>' + ' <span class=\"tree-title\">' + record.get('title') + '</span>';",
                                                    "                        return val;",
                                                    "                    }",
                                                    "                }",
                                                    "            ] ,",
                                                    "            listeners:{",
                                                    "                itemclick:function( node, record, item, index, e, eOpts){",
                                                    "                    var cId = record.get('id');",
                                                    "                    me.copyData(cId, bdIdx, record.get('title'));",
                                                    "                    copyWin.close();",
                                                    "                }",
                                                    "            }",
                                                    "        }",
                                                    "    ]",
                                                    "}).show();",
                                                    "//show configuration window",
                                                    "",
                                                    "if(currentPlugin !== ''){ //for workgroup series when copy data",
                                                    "    var pluginTitle = Ext.getCmp('workListPanel').getTitle();",
                                                    "    var container = Ext.create('Ext.container.Container', {",
                                                    "        layout:'vbox',",
                                                    "        width:400,",
                                                    "        padding:'0 0 10 0',",
                                                    "        items:[",
                                                    "            {",
                                                    "                xtype:'label',",
                                                    "                cls: 'form-title-label',",
                                                    "                margin:'0 0 10 0',",
                                                    "                text:'In ' + pluginTitle",
                                                    "            }",
                                                    "        ]",
                                                    "    });",
                                                    "    var items = getController('Main').getListTab().items.items;",
                                                    "    for(var i=0; i<items.length; i++){",
                                                    "        var button = {",
                                                    "            xtype:'button',",
                                                    "            text:items[i].title,",
                                                    "            categoryId:items[i].categoryId,",
                                                    "            ui:'plain-toolbar-small',",
                                                    "            style:'margin-bottom:8px;border:1px solid #cecece',",
                                                    "            listeners:{",
                                                    "                click:function(btn){",
                                                    "                    cId = btn.categoryId;",
                                                    "                    me.copyData(cId, bdIdx, btn.text);",
                                                    "                    copyWin.close();",
                                                    "                }",
                                                    "            }",
                                                    "        };",
                                                    "        container.add(button);",
                                                    "    }",
                                                    "    copyWin.insert(0, container);",
                                                    "    copyWin.center();",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnCopyClick",
                                            "designerId": "90ad1ef0-8421-4886-bfda-2bfab31a7429"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-pencil-square-o",
                                        "itemId": "btnEdit",
                                        "layout|flex": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{edit}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton5",
                                    "designerId": "c7385c71-0ab3-4e0e-ac8e-29a42fa97c8f",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnEditClick",
                                                "implHandler": [
                                                    "var postCtr = getController('Post');",
                                                    "var activeTab = this.getActiveTab();",
                                                    "var selected = this.getSelected();",
                                                    "if(!activeTab || selected.length === 0){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "if(selected.length > 1){",
                                                    "    Ext.toast(loc.main.selectOnlyOne);",
                                                    "    return;",
                                                    "}",
                                                    "if(!getController('Main').hasUserPermission('write')){//check the permission",
                                                    "    Ext.toast(loc.error.lowerLevelToWrite);",
                                                    "    return;",
                                                    "}",
                                                    "// var bdIdx = this.getViewModel().get('currentRecord').get('bd_idx');",
                                                    "var bdIdx = selected[0].get('bd_idx');",
                                                    "",
                                                    "/* get new data values */",
                                                    "Ext.data.JsonP.request({",
                                                    "    url:getDataWriteApi(),",
                                                    "    params:{",
                                                    "        ca_id:activeTab.categoryId,",
                                                    "        bd_idx:bdIdx,",
                                                    "        html:0",
                                                    "    },",
                                                    "    success:function(response){",
                                                    "        postCtr.editPost(response);",
                                                    "    },",
                                                    "    failure:function(response){",
                                                    "        alert(loc.main.networkProblem);",
                                                    "    }",
                                                    "",
                                                    "});",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnEditClick",
                                            "designerId": "c8b79bb2-ff79-4417-8138-e4b9827db26b"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-trash-o",
                                        "itemId": "btnRemove",
                                        "layout|flex": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{remove}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton7",
                                    "designerId": "c49b3d6c-c5da-4fba-9839-4ed7f70261a8",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnRemoveClick",
                                                "implHandler": [
                                                    "var mainCtr = getController('Main');",
                                                    "var activeTab = this.getActiveTab();",
                                                    "if(activeTab.isMessage){",
                                                    "    var selected = this.getSelected();",
                                                    "    if(selected.length === 0){",
                                                    "        Ext.Msg.alert(loc.main.notice, loc.upload.noneSelected);",
                                                    "    }",
                                                    "    else{",
                                                    "        Ext.Msg.confirm('Confirm', loc.message.deleteMessages, function(button){",
                                                    "            if(button == 'yes'){",
                                                    "                var idxs;",
                                                    "                for(var i=0; i<selected.length; i++){",
                                                    "                    if(i === 0){",
                                                    "                        idxs = selected[i].get('idx');",
                                                    "                    }",
                                                    "                    else{",
                                                    "                        idxs += ', ' + selected[i].get('idx');",
                                                    "                    }",
                                                    "                }",
                                                    "                Ext.data.JsonP.request({",
                                                    "                    url:domain + '/message/delete',",
                                                    "                    params:{",
                                                    "                        idx:idxs",
                                                    "                    },",
                                                    "                    success:function(response){",
                                                    "                        Ext.getStore('MessageOutStore').load();",
                                                    "                        Ext.getStore('MessageInStore').load();",
                                                    "                    }",
                                                    "                });",
                                                    "            }",
                                                    "        });",
                                                    "    }",
                                                    "    return;",
                                                    "}",
                                                    "if(!activeTab){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "if(!getController('Main').hasUserPermission('delete')){//check the permission",
                                                    "    Ext.toast(loc.error.lowerLevelToDelete);",
                                                    "    return;",
                                                    "}",
                                                    "var grid;",
                                                    "if(activeTab.type == 'normal' || activeTab.type == 'text'){",
                                                    "    grid = activeTab;",
                                                    "}",
                                                    "else{//gallery mode",
                                                    "    grid = activeTab.down('#galleryView');",
                                                    "}",
                                                    "var chks = this.getSelected();",
                                                    "if(chks.length === 0){",
                                                    "    Ext.MessageBox.alert(loc.main.notice, loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "if(activeTab.cateOption.useColorway && chks.length > 1){",
                                                    "    Ext.toast(activeTab.getTitle() + '      .    ');",
                                                    "    return;",
                                                    "}",
                                                    "var htmls = [];",
                                                    "var bdIdxs = [];",
                                                    "for(var i=0; i<chks.length; i++){",
                                                    "    var h = chks[i].get('file_height');",
                                                    "    var w = chks[i].get('file_width');",
                                                    "    var bSize;",
                                                    "    var tSize = 100;",
                                                    "    if(w < tSize && h < tSize){",
                                                    "        bSize = 'auto';",
                                                    "    }",
                                                    "    else{",
                                                    "        bSize = 'cover';",
                                                    "    }",
                                                    "",
                                                    "    var html = '<table style=\"border:1px solid #cecece;width:100%\"><tr>';",
                                                    "    html    += '<td width=100>';",
                                                    "    html  \t+=    '<div style=\"float:left;width:100px;height:100px;background-image:url(' + chks[i].get('thumb_path');",
                                                    "    html \t+= ');background-size:'+bSize+'\" class=\"div-image\"></div>';",
                                                    "    html    += '</td>';",
                                                    "    html    += '<td style=\"padding-left:15px\">';",
                                                    "    html    += '<span style=\"font-weight:bold\">'+loc.main.title+': </span>' + chks[i].get('bd_subject');",
                                                    "    html    += '<br><span style=\"font-weight:bold\">'+loc.main.regDate+': </span>' + chks[i].get('bd_regdate');",
                                                    "    html    += '<br><span style=\"font-weight:bold\">'+loc.main.user+': </span>' + chks[i].get('bd_name');",
                                                    "    html    += '</td>';",
                                                    "    html    += '</tr></table>';",
                                                    "    htmls.push(html);",
                                                    "    bdIdxs.push(chks[i].get('bd_idx'));",
                                                    "}",
                                                    "",
                                                    "var count = 0;",
                                                    "var deleted = [];",
                                                    "",
                                                    "var viewer = Ext.getCmp('viewPanel').down('#viewer');",
                                                    "activeTab.on('alldataremoved', function(){//    !!!!!",
                                                    "    //delete viewer in case of viewer showed an information one of the deleted item",
                                                    "    if(bdIdxs.indexOf(viewer.bdIdx) != -1) viewer.destroy();",
                                                    "    grid.getStore().load();",
                                                    "});",
                                                    "/* deletedIdx is the deleted bd_idx that return by event */",
                                                    "activeTab.on('dataremoved', function onDelete(deletedIdx){",
                                                    "    deleted.push(deletedIdx);",
                                                    "    if(viewer){",
                                                    "        if(deletedIdx == viewer.bdIdx){",
                                                    "            viewer.destroy();",
                                                    "        }",
                                                    "    }",
                                                    "    grid.getStore().load();",
                                                    "    count ++;",
                                                    "    if(count < chks.length){",
                                                    "        mainCtr.deleteItem(chks[count], htmls[count], bdIdxs);",
                                                    "    }",
                                                    "});",
                                                    "activeTab.on('dataremovedcanceled', function(){",
                                                    "        //delete viewer if showed item has been deleted",
                                                    "    if(viewer){",
                                                    "        if(deleted.indexOf(viewer.bdIdx) != -1){",
                                                    "            viewer.destroy();",
                                                    "        }",
                                                    "    }",
                                                    "    count = 0;",
                                                    "});",
                                                    "mainCtr.deleteItem(chks[0], htmls[0], bdIdxs);"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnRemoveClick",
                                            "designerId": "fb0c3e3e-5a9e-41d3-9d9f-48178a66e08f"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-download",
                                        "itemId": "btnDownload",
                                        "layout|flex": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{download}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton9",
                                    "designerId": "89627fad-0d2c-427a-9ea8-8f004e43bad9",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnDownloadClick",
                                                "implHandler": [
                                                    "var mainCtr = getController('Main');",
                                                    "var activeTab = this.getActiveTab();",
                                                    "var selected = this.getSelected();",
                                                    "if(!activeTab || selected.length === 0){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "if(selected.length > 1){",
                                                    "    Ext.toast(loc.main.selectOnlyOne);",
                                                    "    return;",
                                                    "}",
                                                    "",
                                                    "if(!getController('Main').hasUserPermission('download')){//check the download permission",
                                                    "    Ext.toast(loc.error.lowerLevelToDownload);",
                                                    "    return;",
                                                    "}",
                                                    "var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;",
                                                    "var isChrome = !!window.chrome && !isOpera;",
                                                    "",
                                                    "",
                                                    "",
                                                    "var url = domain + '/binder/copy';",
                                                    "",
                                                    "var viewer = Ext.getCmp('viewPanel').down('#viewer');",
                                                    "var fileInfo = viewer.info.bd_file;",
                                                    "if(fileInfo.length > 1 && !isChrome){",
                                                    "    Ext.toast(loc.error.downloadLimit);",
                                                    "}",
                                                    "if(fileInfo.length === 0){",
                                                    "    Ext.MessageBox.alert(loc.main.notice, loc.main.noFile);",
                                                    "    return;",
                                                    "}",
                                                    "var paths = [];",
                                                    "for(var i=0; i<fileInfo.length; i++){",
                                                    "    paths.push(fileInfo[i].thumb_path.replace('thumb', 'binder/down'));",
                                                    "}",
                                                    "multiDownload(paths);"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnDownloadClick",
                                            "designerId": "efe6b612-80d7-4d38-a213-aaea0c867ca7"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "hidden": true,
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-commenting-o",
                                        "itemId": "btnComment",
                                        "layout|flex": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{newComment}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "width": "auto",
                                        "itemId": "string",
                                        "hidden": "boolean"
                                    },
                                    "name": "MyButton10",
                                    "designerId": "163e2058-0817-4948-8407-4f2e9d13b6b9",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnCommentClick",
                                                "implHandler": [
                                                    "Ext.getCmp('commentPanel').getController().newComment();"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnCommentClick",
                                            "designerId": "e20333c4-d597-4274-bc89-55015a2bcbfa"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-eye",
                                        "itemId": "btnRecent",
                                        "layout|flex": null,
                                        "overflowText": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{recentItem}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "overflowText": "string",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton11",
                                    "designerId": "6dc80b3f-c0fd-4139-8b38-42495c90bfe5",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnRecentClick",
                                                "implHandler": [
                                                    "var me = this;",
                                                    "localforage.getItem('viewed', function(err, value){",
                                                    "    if(!value) return;",
                                                    "    var mainCtr = getController('Main');",
                                                    "    var viewer = Ext.getCmp('viewPanel').down('#viewer');",
                                                    "    var store = Ext.create('Ext.data.Store', {",
                                                    "        data:value,",
                                                    "        fields:[",
                                                    "            {name:'bd_regdate'},",
                                                    "            {name:'bd_subject'},",
                                                    "            {name:'ca_id'},",
                                                    "            {name:'formIndex'}",
                                                    "        ]",
                                                    "    });",
                                                    "    var oldIndex = (viewer)? viewer.gridIndex : -1;",
                                                    "    var viewedWin = Ext.create(appName + '.view.ViewedWindow', {",
                                                    "        maxHeight:windowMaxHeight,",
                                                    "        ghost:false,",
                                                    "        lastIndex:oldIndex,//to use when restored",
                                                    "        listeners:{",
                                                    "            close:function(win){",
                                                    "                /* restore last content of viewer */",
                                                    "                var selectedTab = me.getActiveTab().getGrid();",
                                                    "                var selected = me.getSelected();",
                                                    "                var record = selected[0];",
                                                    "                if(!sessionId){",
                                                    "                    alert(loc.error.noSession);",
                                                    "                    return;",
                                                    "                }",
                                                    "                mainCtr.viewDocument(record, selectedTab.title, me.getActiveTab().formMode, win.lastIndex);",
                                                    "            }",
                                                    "        }",
                                                    "    });",
                                                    "",
                                                    "    viewedWin.down('#recentViewed').setStore(store);",
                                                    "    viewedWin.show();",
                                                    "",
                                                    "});"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnRecentClick",
                                            "designerId": "2c3508ad-b0cf-4937-b107-fa30e688e665"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "hidden": [
                                            "{!useColorway}"
                                        ],
                                        "iconAlign": "top",
                                        "iconCls": "colorway",
                                        "id": "btnColorway",
                                        "itemId": null,
                                        "layout|flex": null,
                                        "overflowText": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{colorway}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "overflowText": "string",
                                        "width": "auto",
                                        "itemId": "string",
                                        "hidden": "binding",
                                        "id": "string"
                                    },
                                    "name": "MyButton18",
                                    "designerId": "5ca0bb22-892b-4dd4-95e0-dbe514d2cb87",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnColorwayClick",
                                                "implHandler": [
                                                    "if(this.getSelected().length === 0 || this.getSelected() === undefined){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "var selected = this.getSelected()[0];",
                                                    "var win=Ext.getCmp(\"color_window\");",
                                                    "if(win===undefined) {",
                                                    "    win=Ext.create(appName + \".view.ColorWindow\",{",
                                                    "        width:1024,",
                                                    "        height:900",
                                                    "    });",
                                                    "}",
                                                    "",
                                                    "win.down(\"form\").loadRecord(selected);",
                                                    "win.record = selected;",
                                                    "win.show();",
                                                    "",
                                                    "",
                                                    "// if(this.getSelected() === undefined){",
                                                    "//     Ext.toast(loc.config.noCategorySelect);",
                                                    "//     return;",
                                                    "// }",
                                                    "// var selected = this.getSelected()[0];",
                                                    "// var image = selected.get('bd_file')[0];",
                                                    "// if(image === undefined){",
                                                    "//     Ext.toast(loc.error.noImage);",
                                                    "//     return;",
                                                    "// }",
                                                    "// var imgs = ['jpg', 'gif', 'png', 'jpeg'];",
                                                    "// var arr = image.file_name.split('.');",
                                                    "// var ext = arr[arr.length -1];",
                                                    "",
                                                    "// if(imgs.indexOf(ext.toLowerCase()) == -1){",
                                                    "//     Ext.toast(loc.error.notImageFile);",
                                                    "// }",
                                                    "// else{",
                                                    "//     var cwWin = Ext.create('Ext.window.Window', {",
                                                    "//         width:'100%',",
                                                    "//         height:'100%',",
                                                    "//         layout:'hbox',",
                                                    "//         scrollable:true,",
                                                    "//         items:[",
                                                    "//             {",
                                                    "//                 xtype:'draw',",
                                                    "//                 flex:1,",
                                                    "//                 height:image.file_height,",
                                                    "//                 sprites:[{",
                                                    "//                     type:'image'",
                                                    "//                 }],",
                                                    "//                 listeners:{",
                                                    "//                     render:function(dc){",
                                                    "//                         var img = new Image(image.file_width, image.file_height);",
                                                    "//                         img.onload = function(){",
                                                    "//                             var surface = dc.getSurface();",
                                                    "//                             var intv = setInterval(function(){",
                                                    "//                                 if(surface.canvases[0] !== undefined){",
                                                    "//                                     var canvas = surface.canvases[0].dom;",
                                                    "//                                     clearInterval(intv);",
                                                    "//                                     var context = canvas.getContext('2d');",
                                                    "//                                     context.drawImage(img, 0, 0, image.file_width, image.file_height);",
                                                    "",
                                                    "//                                 }",
                                                    "//                             }, 100);",
                                                    "//                         };",
                                                    "",
                                                    "//                         img.src = image.file_path;",
                                                    "",
                                                    "//                     }",
                                                    "//                 }",
                                                    "//             },",
                                                    "//             {",
                                                    "//                 xtype:'container',",
                                                    "//                 layout:'vbox',",
                                                    "//                 padding:20,",
                                                    "//                 width:400,",
                                                    "//                 items:[",
                                                    "//                     {",
                                                    "//                         xtype:'container',",
                                                    "//                         itemId:'chipCon',",
                                                    "//                         width:'100%',",
                                                    "//                         listeners:{",
                                                    "//                             afterrender:function(comp){",
                                                    "//                                 var colors = eval(selected.get('idgetColors'));",
                                                    "//                                 var chips = getController('Config').getColorChips(colors);",
                                                    "//                                 comp.setHtml(chips);",
                                                    "//                                 var els = comp.el.select('.colorchip').elements;",
                                                    "//                                 Ext.Array.each(els, function(entry, index){",
                                                    "//                                     Ext.get(entry).setStyle({cursor:'pointer'});",
                                                    "//                                     Ext.get(entry).on('click', function(e){",
                                                    "//                                         var surface = comp.up('window').down('draw').getSurface();",
                                                    "//                                         var canvas = surface.canvases[0].dom;",
                                                    "//                                         var context = canvas.getContext('2d');",
                                                    "//                                         var imgData = context.getImageData(0, 0, canvas.width, canvas.height);",
                                                    "//                                         for(var i=0; i<imgData.data.length; i+=4){",
                                                    "//                                             imgData.data[i]=255-imgData.data[i];",
                                                    "//                                             imgData.data[i+1]=255-imgData.data[i+1];",
                                                    "//                                             imgData.data[i+2]=255-imgData.data[i+2];",
                                                    "//                                             imgData.data[i+3]=255;",
                                                    "//                                         }",
                                                    "//                                         context.putImageData(imgData, 0, 0);",
                                                    "//                                         var chip = e.currentTarget;",
                                                    "//                                         var hex = chip.getAttribute('hex');",
                                                    "",
                                                    "//                                         var picker = Ext.create('Ext.ux.colorpick.Selector', {",
                                                    "//                                             value: hex,  // initial selected color",
                                                    "//                                             listeners: {",
                                                    "//                                                 change: function (colorselector, color) {",
                                                    "//                                                     Ext.get(entry).setStyle({'background-color':'#' + color});",
                                                    "//                                                 }",
                                                    "//                                             }",
                                                    "//                                         });",
                                                    "//                                         //show color picker window",
                                                    "//                                         Ext.create('Ext.window.Window', {",
                                                    "//                                             items:[picker],",
                                                    "//                                             title:'Color picker',",
                                                    "//                                             modal:true,",
                                                    "//                                         }).show();",
                                                    "//                                     });",
                                                    "//                                 });",
                                                    "//                             }",
                                                    "//                         }",
                                                    "//                     }",
                                                    "//                 ]",
                                                    "//             }",
                                                    "//         ],",
                                                    "//         dockedItems:[",
                                                    "//             {",
                                                    "//                 xtype:'button',",
                                                    "//                 text:'Get Colors',",
                                                    "//                 handler:function(btn){",
                                                    "//                     var dsnWin = Ext.create(appName + '.view.ActorWindow', {",
                                                    "//                         title:'   '",
                                                    "//                     }).show();",
                                                    "//                     dsnWin.getGrid().on('itemclick', function(grid, record){",
                                                    "//                         var colors = record.get('idgetColors');",
                                                    "//                         if(colors === undefined || colors === null || colors === ''){",
                                                    "//                             Ext.toast('    .');",
                                                    "//                         }",
                                                    "//                         else{",
                                                    "//                         }",
                                                    "//                     });",
                                                    "//                 }",
                                                    "//             }",
                                                    "//         ]",
                                                    "",
                                                    "//     }).show();",
                                                    "// }",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnColorwayClick",
                                            "designerId": "8f9bfa65-76d5-4c34-8c4e-c4375ce9e3ce"
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnColorwayRender",
                                                "implHandler": [
                                                    "this.getViewModel().setData({useColorway:false});"
                                                ],
                                                "name": "render",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnColorwayRender",
                                            "designerId": "1823308f-4f7f-4025-b508-fcd264758877"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "hidden": [
                                            "{!useMapping}"
                                        ],
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-female",
                                        "id": "btnMapping",
                                        "itemId": null,
                                        "layout|flex": null,
                                        "overflowText": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "overflowText": "string",
                                        "width": "auto",
                                        "itemId": "string",
                                        "hidden": "binding",
                                        "id": "string"
                                    },
                                    "name": "MyButton34",
                                    "designerId": "a886e8f0-47d2-4c83-9864-d565d861b77e",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnMappingClick",
                                                "implHandler": [
                                                    "var me = this;",
                                                    "if(this.getSelected().length === 0 || this.getSelected() === undefined){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "var selected = this.getSelected()[0];",
                                                    "var i;",
                                                    "var mapWin = Ext.create('Ext.window.Window', {",
                                                    "    layout:{",
                                                    "        type:'hbox',",
                                                    "        align:'stretch'",
                                                    "    },",
                                                    "    width:1024,",
                                                    "    height:700,",
                                                    "    ghost:false,",
                                                    "    maximizable:true,",
                                                    "    selectedDesign:selected.get('bd_file')[0].file_name.split('.')[0],",
                                                    "    selectedModel:'model_1',",
                                                    "    maxHeight:windowMaxHeight,",
                                                    "    title:'Simulation',",
                                                    "    padding:15,",
                                                    "    items:[",
                                                    "        {",
                                                    "            xtype:'container',",
                                                    "            width:150,",
                                                    "            layout:{",
                                                    "                type:'vbox',",
                                                    "                align:'stretch'",
                                                    "            },",
                                                    "            items:[",
                                                    "                {",
                                                    "                    xtype:'label',",
                                                    "                    text:''",
                                                    "                },",
                                                    "                {",
                                                    "                    xtype:'combo',",
                                                    "                    itemId:'modelCombo',",
                                                    "                    width:150,",
                                                    "                    height:30,",
                                                    "                    store:['', '', '', ''],",
                                                    "                    value:'',",
                                                    "                    getList:function(){",
                                                    "                        var val = this.getValue();",
                                                    "                        var cfgStore = Ext.getStore('ConfigStore');",
                                                    "                        var mapCate = cfgStore.getAt(0).get('mappingModelCategory');",
                                                    "                        var query;",
                                                    "                        if(val == ''){",
                                                    "                            query = '';",
                                                    "                        }",
                                                    "                        else{",
                                                    "                            query = 'model=' + val;",
                                                    "                        }",
                                                    "                        Ext.data.JsonP.request({",
                                                    "                            url:getDataListByIdApi(query, true),",
                                                    "                            params:{",
                                                    "                                ca_id:mapCate",
                                                    "                            },",
                                                    "                            success:function(response){",
                                                    "                                var bl = response.binderList;",
                                                    "                                for(i=0; i<bl.length; i++){",
                                                    "                                    var imgStyle = 'background-image:url('+bl[i].bd_file[0].thumb_path+'/T);background-position:center';",
                                                    "                                    imgStyle += 'background-repeat:no-repeat;background-size:cover;margin-bottom:10px;cursor:pointer';",
                                                    "                                    var imgCon = {",
                                                    "                                        xtype:'component',",
                                                    "                                        width:'100%',",
                                                    "                                        height:150,",
                                                    "                                        style:imgStyle,",
                                                    "                                        fileName:bl[i].bd_file[0].file_name.split('.')[0],",
                                                    "                                        listeners:{",
                                                    "                                            render:function(ic){",
                                                    "                                                ic.el.on('click', function(e){",
                                                    "                                                    var modelName = ic.fileName;",
                                                    "                                                    mapWin.selectedModel = modelName;",
                                                    "                                                    var imgStyle = 'background-image:url(';",
                                                    "                                                    imgStyle += 'resources/mapped/'+mapWin.selectedModel+'_'+mapWin.selectedDesign+'.jpg);';",
                                                    "                                                    imgStyle += 'background-repeat:no-repeat;background-size:contain';",
                                                    "                                                    mapWin.down('#mapCon').removeAll();",
                                                    "                                                    mapWin.down('#mapCon').add({",
                                                    "                                                        xtype:'component',",
                                                    "                                                        style:imgStyle",
                                                    "",
                                                    "                                                    });",
                                                    "                                                });",
                                                    "                                            }",
                                                    "                                        }",
                                                    "                                    };",
                                                    "                                    mapWin.down('#modelCon').add(imgCon);",
                                                    "                                }",
                                                    "                            }",
                                                    "                        });",
                                                    "                    },",
                                                    "                    listeners:{",
                                                    "                        change:function(combo, newValue){",
                                                    "                            mapWin.down('#modelCon').removeAll();",
                                                    "                            combo.getList();",
                                                    "                        }",
                                                    "                    }",
                                                    "                },",
                                                    "                {",
                                                    "                    xtype:'panel',",
                                                    "                    layout:'vbox',",
                                                    "                    flex:1,",
                                                    "                    itemId:'modelCon',",
                                                    "                    scrollable:true,",
                                                    "                    listeners:{",
                                                    "                        render:function(comp){",
                                                    "                            //   ",
                                                    "                            comp.up('window').down('#modelCombo').getList();",
                                                    "                        }",
                                                    "                    }",
                                                    "                }",
                                                    "            ]",
                                                    "        },",
                                                    "        {",
                                                    "            xtype:'tbspacer',",
                                                    "            width:7",
                                                    "        },",
                                                    "        {",
                                                    "            xtype:'container',",
                                                    "            layout:{",
                                                    "                type:'vbox',",
                                                    "                align:'stretch'",
                                                    "            },",
                                                    "            items:[",
                                                    "                {",
                                                    "                    xtype:'label',",
                                                    "                    text:''",
                                                    "                },",
                                                    "                {",
                                                    "                    xtype:'combo',",
                                                    "                    itemId:'designCombo',",
                                                    "                    width:150,",
                                                    "                    store:['', 'Army Pattern', 'Check', 'Dot', 'Geometric', 'Patch work', 'Small Flower'],",
                                                    "                    value:'',",
                                                    "                    getList:function(){",
                                                    "                        var val = this.getValue();",
                                                    "                        var dcStore = getController('Main').getListTab().getActiveTab().getStore();",
                                                    "                        var mapWin = this.up('window');",
                                                    "                        mapWin.down('#designCon').removeAll();",
                                                    "                        dcStore.each(function(record){",
                                                    "                            if(record.get('iddesignType') == val || val == ''){",
                                                    "                                var fp = record.get('file_path');",
                                                    "                                var imgStyle = 'background-image:url('+record.get('bd_file')[0].thumb_path+');background-position:center';",
                                                    "                                imgStyle += 'background-repeat:no-repeat;background-size:cover;margin-bottom:10px;cursor:pointer';",
                                                    "                                var imgCon = {",
                                                    "                                    xtype:'component',",
                                                    "                                    width:'100%',",
                                                    "                                    height:150,",
                                                    "                                    style:imgStyle,",
                                                    "                                    fileName:record.get('bd_file')[0].file_name.split('.')[0],",
                                                    "                                    listeners:{",
                                                    "                                        render:function(ic){",
                                                    "                                            ic.el.on('click', function(e){",
                                                    "                                                var designName = ic.fileName;",
                                                    "                                                mapWin.selectedDesign = designName;",
                                                    "                                                var imgStyle = 'background-image:url(';",
                                                    "                                                imgStyle += domain+'/works/resources/mapped/'+mapWin.selectedModel+'_'+mapWin.selectedDesign+'.jpg);';",
                                                    "                                                imgStyle += 'background-repeat:no-repeat;background-size:contain';",
                                                    "                                                mapWin.down('#mapCon').removeAll();",
                                                    "                                                mapWin.down('#mapCon').add({",
                                                    "                                                    xtype:'component',",
                                                    "                                                    style:imgStyle",
                                                    "",
                                                    "                                                });",
                                                    "",
                                                    "                                            });",
                                                    "                                        }",
                                                    "                                    }",
                                                    "                                };",
                                                    "                                mapWin.down('#designCon').add(imgCon);                                    ",
                                                    "                            }",
                                                    "                        });                         ",
                                                    "                    },",
                                                    "                    listeners:{",
                                                    "                        change:function(combo, newValue){",
                                                    "                           combo.getList();",
                                                    "                        }",
                                                    "                    }",
                                                    "                },",
                                                    "                {",
                                                    "                    xtype:'container',",
                                                    "                    layout:'vbox',",
                                                    "                    flex:1,",
                                                    "                    itemId:'designCon',",
                                                    "                    scrollable:true,",
                                                    "                    listeners:{",
                                                    "                        render:function(comp){",
                                                    "                            comp.up('window').down('#designCombo').getList();",
                                                    "                        }",
                                                    "                    }",
                                                    "                }",
                                                    "            ]",
                                                    "        },",
                                                    "        {",
                                                    "            xtype:'tbspacer',",
                                                    "            width:7",
                                                    "        },",
                                                    "        {",
                                                    "            xtype:'container',",
                                                    "            itemId:'mapCon',",
                                                    "            layout:'fit',",
                                                    "            flex:1",
                                                    "        }",
                                                    "    ]",
                                                    "}).show();",
                                                    "",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnMappingClick",
                                            "designerId": "7bef0684-b613-4a60-9a5d-63bb0d46a081"
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnMappingAfterRender",
                                                "implHandler": [
                                                    "component.setText(loc.menu.mapping);",
                                                    "this.getViewModel().setData({useMapping:false});"
                                                ],
                                                "name": "afterrender",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnMappingAfterRender",
                                            "designerId": "19dab2f2-4f59-4541-b5d7-218695ccfcb5"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-search",
                                        "itemId": "btnSearch",
                                        "layout|flex": null,
                                        "overflowText": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{search}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "overflowText": "string",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton12",
                                    "designerId": "5abd120d-ba9a-40e3-85d3-97625bfadf33",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnSearchClick",
                                                "implHandler": [
                                                    "",
                                                    "var activeTab = this.getActiveTab();",
                                                    "if(!activeTab){",
                                                    "    Ext.toast(loc.config.noCategorySelect);",
                                                    "    return;",
                                                    "}",
                                                    "if(activeTab.isMessage){",
                                                    "    return;",
                                                    "}",
                                                    "var cId = activeTab.categoryId;",
                                                    "var storeId = 'dStore_' + cId;",
                                                    "var store = Ext.getStore(storeId);",
                                                    "var title = activeTab.title;",
                                                    "var clone = false;",
                                                    "if(activeTab.cloneCategory !== undefined){",
                                                    "    clone = true;",
                                                    "}",
                                                    "getController('Search').openSearchWindow(cId, store, undefined, clone);",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnSearchClick",
                                            "designerId": "d86aee82-9013-4b92-84a1-03cea025aba9"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "hidden": true,
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-files-o",
                                        "itemId": "mainBtnComapre",
                                        "scale": "medium",
                                        "style": "color:white",
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "designer|uiInterfaceName": "string",
                                        "glyph": "auto",
                                        "iconAlign": "string",
                                        "itemId": "string",
                                        "scale": "string",
                                        "style": "string",
                                        "ui": "string",
                                        "width": "auto",
                                        "iconCls": "string",
                                        "hidden": "boolean"
                                    },
                                    "name": "MyButton35",
                                    "designerId": "17d74f37-1221-4f51-810b-8e5507190fb6",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onMainBtnComapreRender",
                                                "implHandler": [
                                                    "component.setText(loc.main.compareData);"
                                                ],
                                                "name": "render",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onMainBtnComapreRender",
                                            "designerId": "2bb00e31-5b88-42c8-91f4-3ecce0da902f"
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onMainBtnComapreClick",
                                                "implHandler": [
                                                    "var record = this.getSelected()[0];",
                                                    "if(this.getSelected().length === 0){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "var bdIdx;",
                                                    "var me = this;",
                                                    "var clCaId;",
                                                    "if(this.getActiveTab().cateOption.clone){//click the clone soruce category",
                                                    "    clCaId = this.getActiveTab().categoryId;",
                                                    "    bdIdx = record.get('bd_idx');",
                                                    "",
                                                    "}",
                                                    "else if(this.getActiveTab().cateOption.cloneCategory !== undefined){//clcik a cloned category",
                                                    "    clCaId = this.getActiveTab().cateOption.cloneCategory;",
                                                    "    if(record.get('bd_refer') != 'null' && record.get('bd_refer') !== '' && record.get('bd_refer') !== undefined){",
                                                    "       //has been motified",
                                                    "        bdIdx = record.get('bd_refer');",
                                                    "    }",
                                                    "    else{",
                                                    "        //for never motified",
                                                    "        bdIdx = record.get('bd_idx');",
                                                    "    }",
                                                    "}",
                                                    "else{",
                                                    "    return;",
                                                    "}",
                                                    "var url =' http://smartdb.kr/json/binderCloneList?ca_id='+clCaId+'&bd_idx=' + bdIdx;",
                                                    "Ext.data.JsonP.request({",
                                                    "    url:url,",
                                                    "    success:function(response){",
                                                    "        var bList = response.binderList;",
                                                    "        var subjectTitle = (me.getActiveTab().subjectTitle === undefined)? loc.main.title : me.getActiveTab().subjectTitle;",
                                                    "        bList[0].subjectTitle = subjectTitle;",
                                                    "        var compaWin = Ext.create('Ext.window.Window', {",
                                                    "            height:windowMaxHeight,",
                                                    "            title:'<i class=\"fa fa-columns\" aria-hidden=\"true\"></i> '+loc.main.compareData,",
                                                    "            padding:20,",
                                                    "            ghost:false,",
                                                    "            layout:{",
                                                    "                type:'vbox',",
                                                    "                align:'stretch'",
                                                    "            },",
                                                    "            items:[",
                                                    "                {",
                                                    "                    xtype:'container',",
                                                    "                    scrollable:true,",
                                                    "                    height:'100%',",
                                                    "                    padding:25,",
                                                    "                    listeners:{",
                                                    "                        render:function(comp){",
                                                    "                            var viewer = Ext.create(appName + '.view.Viewer',{",
                                                    "                                itemId:'cloneViewer',",
                                                    "                                editable:false",
                                                    "                            });",
                                                    "                            viewer.colsList = me.getActiveTab().categoryColsList;",
                                                    "                            resources.js.forms.CloneViewer.setHtml(bList, viewer);",
                                                    "                            comp.add(viewer);",
                                                    "                        }",
                                                    "                    }",
                                                    "                }",
                                                    "            ]",
                                                    "        }).show();",
                                                    "    }",
                                                    "});",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "name": "string",
                                                "scope": "string",
                                                "implHandler": "code"
                                            },
                                            "name": "onMainBtnComapreClick",
                                            "designerId": "9630fedb-8942-4a89-a7fa-dedc55b8a217"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "iconAlign": "top",
                                        "iconCls": "fa fa-share-square-o",
                                        "itemId": "btnMessage",
                                        "layout|flex": null,
                                        "overflowText": null,
                                        "scale": "medium",
                                        "style": [
                                            "{",
                                            "    color:'white'",
                                            "}"
                                        ],
                                        "text": [
                                            "{sendingDoc}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "iconAlign": "string",
                                        "iconCls": "string",
                                        "layout|flex": "number",
                                        "scale": "string",
                                        "style": "object",
                                        "ui": "string",
                                        "overflowText": "string",
                                        "width": "auto",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton1",
                                    "designerId": "4e132d84-2c6d-4a4d-b31d-c77b660a11b7",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnMessageClick",
                                                "implHandler": [
                                                    "var activeTab = this.getActiveTab();",
                                                    "if(!activeTab){",
                                                    "    Ext.toast(loc.config.noCategorySelect);",
                                                    "    return;",
                                                    "}",
                                                    "if(activeTab.isMessage){",
                                                    "    getController('Work').selectMember('', 'message');",
                                                    "}",
                                                    "else{",
                                                    "    getController('Message').sendMessage();",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onBtnMessageClick",
                                            "designerId": "6f9b956a-0599-4d9f-aef1-0a0dbc07e761"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "container|align": null,
                                        "height": "100%",
                                        "itemId": "displayCon",
                                        "layout": "vbox",
                                        "layout|flex": null
                                    },
                                    "configAlternates": {
                                        "container|align": "string",
                                        "height": "auto",
                                        "itemId": "string",
                                        "layout": "string",
                                        "layout|flex": "number"
                                    },
                                    "name": "MyContainer22",
                                    "designerId": "bea2bfcf-c809-4c78-926d-996c8b4b260d",
                                    "cn": [
                                        {
                                            "type": "Ext.form.Label",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "height": 28,
                                                "layout|flex": null,
                                                "layout|margins": null,
                                                "margin": null,
                                                "padding": "12 0 10 17",
                                                "style": "color:white;font-size:11px",
                                                "text": null
                                            },
                                            "configAlternates": {
                                                "style": "string",
                                                "height": "auto",
                                                "layout|flex": "number",
                                                "layout|margins": "string",
                                                "margin": "auto",
                                                "padding": "auto",
                                                "text": "string"
                                            },
                                            "name": "MyLabel16",
                                            "designerId": "fea0f9f7-189e-4c16-a43c-a4c0b2d8f0c2",
                                            "cn": [
                                                {
                                                    "type": "viewcontrollereventbinding",
                                                    "reference": {
                                                        "name": "listeners",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fn": "onLabelRender",
                                                        "implHandler": [
                                                            "component.setText(loc.menu.layoutType);"
                                                        ],
                                                        "name": "render",
                                                        "scope": "me"
                                                    },
                                                    "configAlternates": {
                                                        "fn": "string",
                                                        "implHandler": "code",
                                                        "name": "string",
                                                        "scope": "string"
                                                    },
                                                    "name": "onLabelRender",
                                                    "designerId": "f30b494d-655c-4e53-bb8c-1dda94a32c70"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.container.Container",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "container|align": null,
                                                "container|pack": "center",
                                                "height": "100%",
                                                "layout": "hbox",
                                                "layout|flex": null,
                                                "margin": null,
                                                "padding": "3 0 0 5"
                                            },
                                            "configAlternates": {
                                                "container|align": "string",
                                                "container|pack": "string",
                                                "height": "auto",
                                                "layout": "string",
                                                "layout|flex": "number",
                                                "margin": "auto",
                                                "padding": "auto"
                                            },
                                            "name": "MyContainer23",
                                            "designerId": "a254e39f-72f8-4ee8-8067-8911837d9700",
                                            "cn": [
                                                {
                                                    "type": "Ext.toolbar.Spacer",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|displayName": "spacer",
                                                        "height": "38%",
                                                        "layout|flex": null,
                                                        "style": [
                                                            "{",
                                                            "    'border-right':'1px solid #ffffff',",
                                                            "    opacity:0.5",
                                                            "}"
                                                        ],
                                                        "width": 1
                                                    },
                                                    "configAlternates": {
                                                        "designer|displayName": "string",
                                                        "height": "auto",
                                                        "layout|flex": "number",
                                                        "style": "object",
                                                        "width": "auto"
                                                    },
                                                    "name": "MySpacer4",
                                                    "designerId": "a89ab3bf-28d8-492e-a1b8-8c9818f234a1"
                                                },
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "glyph": "xf009@FontAwesome",
                                                        "height": null,
                                                        "iconAlign": null,
                                                        "iconCls": null,
                                                        "itemId": "btnGallType",
                                                        "layout|flex": null,
                                                        "overflowText": null,
                                                        "style": [
                                                            "{",
                                                            "    color:'white'",
                                                            "}"
                                                        ],
                                                        "text": null,
                                                        "tooltip": [
                                                            "{galleryMode}"
                                                        ],
                                                        "ui": "plain-toolbar-small",
                                                        "width": 40
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconAlign": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "scale": "string",
                                                        "style": "object",
                                                        "ui": "string",
                                                        "overflowText": "string",
                                                        "width": "auto",
                                                        "glyph": "auto",
                                                        "itemId": "string",
                                                        "tooltip": "binding",
                                                        "height": "auto",
                                                        "text": "string"
                                                    },
                                                    "name": "MyButton14",
                                                    "designerId": "5406b26d-f1a0-4bed-a80d-ca9b2453f786",
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onBtnGallTypeClick",
                                                                "implHandler": [
                                                                    "var mainCtr = getController('Main');",
                                                                    "var grid = mainCtr.getGrid(this.getActiveTab().categoryId, 'gallery', this.getActiveTab().title);",
                                                                    "getController('Main').setGrid(grid);"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onBtnGallTypeClick",
                                                            "designerId": "1c3aca42-6ebf-41df-b410-83102486febe"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "glyph": "xf039@FontAwesome",
                                                        "height": null,
                                                        "iconAlign": null,
                                                        "iconCls": null,
                                                        "itemId": "btnTxtType",
                                                        "layout|flex": null,
                                                        "overflowText": null,
                                                        "style": [
                                                            "{",
                                                            "    color:'white'",
                                                            "}"
                                                        ],
                                                        "text": null,
                                                        "tooltip": [
                                                            "{textMode}"
                                                        ],
                                                        "ui": "plain-toolbar-small",
                                                        "width": 40
                                                    },
                                                    "configAlternates": {
                                                        "text": "binding",
                                                        "designer|uiInterfaceName": "string",
                                                        "iconAlign": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "scale": "string",
                                                        "style": "object",
                                                        "ui": "string",
                                                        "overflowText": "string",
                                                        "width": "auto",
                                                        "glyph": "auto",
                                                        "itemId": "string",
                                                        "tooltip": "binding",
                                                        "height": "auto"
                                                    },
                                                    "name": "MyButton15",
                                                    "designerId": "a58e599e-df03-49b6-bb50-926ad107a0a8",
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onBtnTxtTypeClick",
                                                                "implHandler": [
                                                                    "var grid = getController('Main').getGrid(this.getActiveTab().categoryId, 'text', this.getActiveTab().title);",
                                                                    "getController('Main').setGrid(grid);"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onBtnTxtTypeClick",
                                                            "designerId": "06ee2f21-75f6-4fd4-85e6-ff385451465b"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "glyph": "xf0ca@FontAwesome",
                                                        "height": null,
                                                        "iconAlign": null,
                                                        "iconCls": null,
                                                        "itemId": "btnListType",
                                                        "layout|flex": null,
                                                        "overflowText": null,
                                                        "style": [
                                                            "{",
                                                            "    color:'white'",
                                                            "}"
                                                        ],
                                                        "text": null,
                                                        "tooltip": [
                                                            "{combineMode}"
                                                        ],
                                                        "ui": "plain-toolbar-small",
                                                        "width": 40
                                                    },
                                                    "configAlternates": {
                                                        "text": "binding",
                                                        "designer|uiInterfaceName": "string",
                                                        "iconAlign": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "scale": "string",
                                                        "style": "object",
                                                        "ui": "string",
                                                        "overflowText": "string",
                                                        "width": "auto",
                                                        "glyph": "auto",
                                                        "itemId": "string",
                                                        "tooltip": "binding",
                                                        "height": "auto"
                                                    },
                                                    "name": "MyButton16",
                                                    "designerId": "762530a7-22f1-4b23-b7c5-fd502b24f253",
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onBtnListTypeClick",
                                                                "implHandler": [
                                                                    "var grid = getController('Main').getGrid(this.getActiveTab().categoryId, 'normal', this.getActiveTab().title);",
                                                                    "getController('Main').setGrid(grid);"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onBtnListTypeClick",
                                                            "designerId": "4876d198-262e-40ea-af56-7562f08407a3"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "glyph": null,
                                                        "height": null,
                                                        "hidden": [
                                                            "{!isColorChip}"
                                                        ],
                                                        "iconAlign": null,
                                                        "iconCls": "fa fa-th",
                                                        "itemId": "btnChipType",
                                                        "layout|flex": null,
                                                        "overflowText": null,
                                                        "style": [
                                                            "{",
                                                            "    color:'white'",
                                                            "}"
                                                        ],
                                                        "text": null,
                                                        "tooltip": [
                                                            "{colorChip}"
                                                        ],
                                                        "ui": "plain-toolbar-small",
                                                        "width": 40
                                                    },
                                                    "configAlternates": {
                                                        "text": "binding",
                                                        "designer|uiInterfaceName": "string",
                                                        "iconAlign": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "scale": "string",
                                                        "style": "object",
                                                        "ui": "string",
                                                        "overflowText": "string",
                                                        "width": "auto",
                                                        "glyph": "auto",
                                                        "itemId": "string",
                                                        "tooltip": "binding",
                                                        "height": "auto",
                                                        "hidden": "binding"
                                                    },
                                                    "name": "MyButton17",
                                                    "designerId": "a5655f88-ba64-41f9-a748-1b287c5771bc",
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onBtnChipTypeClick",
                                                                "implHandler": [
                                                                    "var grid = getController('Main').getGrid(this.getActiveTab().categoryId, 'colorChip', this.getActiveTab().title);",
                                                                    "getController('Main').setGrid(grid);"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onBtnChipTypeClick",
                                                            "designerId": "c7c56623-2b1f-4cbb-a38f-3b70316f60d3"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.toolbar.Spacer",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|displayName": "spacer",
                                                        "height": "38%",
                                                        "layout|flex": null,
                                                        "style": [
                                                            "{",
                                                            "    'border-right':'1px solid #ffffff',",
                                                            "    opacity:0.5",
                                                            "}"
                                                        ],
                                                        "width": 1
                                                    },
                                                    "configAlternates": {
                                                        "designer|displayName": "string",
                                                        "height": "auto",
                                                        "layout|flex": "number",
                                                        "style": "object",
                                                        "width": "auto"
                                                    },
                                                    "name": "MySpacer5",
                                                    "designerId": "5cf015d6-4ca7-42f7-b8c3-bf2eddcbb656"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "glyph": "xf022@FontAwesome",
                                        "hidden": [
                                            "{isGallery}"
                                        ],
                                        "iconAlign": "top",
                                        "itemId": "mainBtnGroup",
                                        "scale": "medium",
                                        "style": "color:white",
                                        "text": [
                                            "{byGroup}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "glyph": "auto",
                                        "iconAlign": "string",
                                        "itemId": "string",
                                        "scale": "string",
                                        "style": "string",
                                        "ui": "string",
                                        "width": "auto",
                                        "hidden": "binding"
                                    },
                                    "name": "MyButton25",
                                    "designerId": "fc4c4a8e-24bb-407c-a1f2-3f383345f75d",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onMainBtnGroupClick",
                                                "implHandler": [
                                                    "var menuX = Ext.getCmp('westPanel').width + button.x;",
                                                    "Ext.create('Ext.menu.Menu', {",
                                                    "    width: 170,",
                                                    "    itemId:'groupMenu',",
                                                    "    plain: true,",
                                                    "    alwaysOnTop:true,",
                                                    "    autoShow:true,",
                                                    "    x:menuX,",
                                                    "    y:91,",
                                                    "    renderTo: Ext.getBody(),",
                                                    "    listeners:{",
                                                    "        afterrender:function(menu){",
                                                    "            var grid = getController('Main').getListTab().getActiveTab();",
                                                    "            var colsList = grid.categoryColsList;",
                                                    "            for(var i=0; i<colsList.length; i++){",
                                                    "                /* filtering for field that code is groupItem */",
                                                    "                    menu.add({",
                                                    "                        xtype:'menuitem',",
                                                    "                        text:colsList[i].cols_name,",
                                                    "                        groupValue:'id'+colsList[i].cols_idx,",
                                                    "                        handler:function(item){",
                                                    "                            /* change grid type for grouping */",
                                                    "                            grid.getStore().setGroupField(item.groupValue);",
                                                    "                        }",
                                                    "                    });",
                                                    "            }",
                                                    "            menu.add({",
                                                    "                xtype:'menuitem',",
                                                    "                text:loc.main.user,",
                                                    "                handler:function(item){",
                                                    "                    /* change grid type for grouping */",
                                                    "                    grid.store.setGroupField('bd_name');",
                                                    "                }",
                                                    "            });",
                                                    "            menu.add({//to recover normal grid",
                                                    "                xtype:'menuitem',",
                                                    "                text:loc.message.normal,",
                                                    "                handler:function(){",
                                                    "                    grid.store.setGroupField();",
                                                    "                    grid.store.load();",
                                                    "                }",
                                                    "            });",
                                                    "        }",
                                                    "    }",
                                                    "});"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onMainBtnGroupClick",
                                            "designerId": "1e210049-50b3-4280-98de-2e75c3789e8f"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "glyph": "xf022@FontAwesome",
                                        "hidden": [
                                            "{!needSum}"
                                        ],
                                        "iconAlign": "top",
                                        "itemId": "mainBtnChart",
                                        "scale": "medium",
                                        "style": "color:white",
                                        "text": [
                                            "{chart}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "glyph": "auto",
                                        "iconAlign": "string",
                                        "itemId": "string",
                                        "scale": "string",
                                        "style": "string",
                                        "ui": "string",
                                        "width": "auto",
                                        "hidden": "binding"
                                    },
                                    "name": "MyButton26",
                                    "designerId": "2bc4951d-cd3b-468c-9b44-96035038fc20",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onMainBtnChartClick",
                                                "implHandler": [
                                                    "var store = getController('Main').getListTab().getActiveTab().getStore();",
                                                    "getController('Main').showChart(store);"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onMainBtnChartClick",
                                            "designerId": "1bb7efa8-2ddb-4831-a4e9-68b51126f67e"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|uiInterfaceName": "plain-toolbar-medium",
                                        "glyph": "xf1da@FontAwesome",
                                        "iconAlign": "top",
                                        "itemId": "mainBtnHistory",
                                        "scale": "medium",
                                        "text": [
                                            "{history}"
                                        ],
                                        "tooltip": [
                                            "{historyList}"
                                        ],
                                        "ui": "plain-toolbar-medium",
                                        "width": 70
                                    },
                                    "configAlternates": {
                                        "tooltip": "binding",
                                        "text": "binding",
                                        "designer|uiInterfaceName": "string",
                                        "glyph": "auto",
                                        "iconAlign": "string",
                                        "itemId": "string",
                                        "scale": "string",
                                        "ui": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyButton39",
                                    "designerId": "75784287-68e4-409d-ba1e-325b22af5fd2",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onMainBtnHistoryClick",
                                                "implHandler": [
                                                    "if(this.getSelected().length === 0){",
                                                    "    Ext.toast(loc.upload.noneSelected);",
                                                    "    return;",
                                                    "}",
                                                    "this.showHistory();"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onMainBtnHistoryClick",
                                            "designerId": "2e23ff6d-47c4-458b-93b4-cbe3b81f8028"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.tab.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "bodyStyle": null,
                                "closable": null,
                                "itemId": "listTab",
                                "layout|region": "center",
                                "style": null
                            },
                            "configAlternates": {
                                "bodyStyle": "object",
                                "itemId": "string",
                                "layout|region": "string",
                                "style": "object",
                                "closable": "boolean"
                            },
                            "name": "MyTabPanel2",
                            "designerId": "5336e54b-5f80-473b-91e9-5e7f95c65800"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "animCollapse": null,
                        "bodyBorder": null,
                        "bodyStyle": null,
                        "cls": [
                            "southpanel"
                        ],
                        "collapsible": true,
                        "flex": 0.7,
                        "frameHeader": null,
                        "height": null,
                        "hidden": true,
                        "itemId": "southPanel",
                        "layout|region": "south",
                        "layout|split": true,
                        "scrollable": true,
                        "style": null,
                        "title": null
                    },
                    "configAlternates": {
                        "height": "auto",
                        "itemId": "string",
                        "layout|region": "string",
                        "title": "string",
                        "hidden": "boolean",
                        "layout|split": "boolean",
                        "scrollable": "boolean",
                        "animCollapse": "auto",
                        "bodyBorder": "boolean",
                        "bodyStyle": "object",
                        "cls": "typedarray",
                        "collapsible": "boolean",
                        "flex": "number",
                        "frameHeader": "boolean",
                        "style": "object"
                    },
                    "name": "MyPanel4",
                    "designerId": "8027182e-6ee1-40eb-b108-c38247aff564"
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "animCollapse": false,
                "bodyStyle": [
                    "{",
                    "    'background-color':'white'",
                    "}"
                ],
                "collapseDirection": "right",
                "collapseFirst": false,
                "collapsed": null,
                "collapsible": true,
                "hidden": null,
                "id": "eastPanel",
                "layout": "border",
                "layout|region": "east",
                "layout|split": true,
                "padding": null,
                "suspendLayout": null,
                "title": "East",
                "titleCollapse": false,
                "width": 1
            },
            "configAlternates": {
                "header": "boolean",
                "id": "string",
                "layout|region": "string",
                "layout|split": "boolean",
                "width": "auto",
                "bodyStyle": "object",
                "hidden": "boolean",
                "collapseDirection": "string",
                "collapsible": "boolean",
                "hideCollapseTool": "boolean",
                "layout": "string",
                "title": "string",
                "titleCollapse": "boolean",
                "padding": "auto",
                "collapsed": "boolean",
                "suspendLayout": "boolean",
                "collapseFirst": "boolean",
                "animCollapse": "auto"
            },
            "name": "MyPanel1",
            "designerId": "fcbdf9da-3f17-4df5-957f-127452749d08",
            "cn": [
                {
                    "type": "Ext.panel.Tool",
                    "reference": {
                        "name": "tools",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "fa fa-lock",
                        "id": "icoEditable",
                        "itemId": "editable",
                        "margin": "0 8 0 0",
                        "tooltip": null
                    },
                    "configAlternates": {
                        "tooltip": "object",
                        "iconCls": "string",
                        "id": "string",
                        "itemId": "string",
                        "margin": "string"
                    },
                    "name": "MyTool",
                    "designerId": "9e7f34b3-83f5-425c-99e7-85e6c1963fbe",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "margin",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onEditalbeRender",
                                "implHandler": [
                                    "component.setTooltip(loc.menu.editable);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onEditalbeRender",
                            "designerId": "2c2dc564-8175-4a8e-baaa-c413f3c5b6b0"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onEditalbeClick",
                                "implHandler": [
                                    "if(!getController('Main').hasUserPermission('write')){//check the permission",
                                    "    Ext.toast(loc.error.lowerLevelToWrite);",
                                    "    return;",
                                    "}",
                                    "getController('Viewer').editModeToggle(tool);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onEditalbeClick",
                            "designerId": "947cfcbb-e3a5-4743-9b89-803982ca6b30"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Tool",
                    "reference": {
                        "name": "tools",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "iconCls": "fa fa-history",
                        "itemId": "history",
                        "margin": "0 8 0 0"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "itemId": "string",
                        "margin": "string",
                        "hidden": "boolean"
                    },
                    "name": "MyTool1",
                    "designerId": "8ee86e59-2792-4f52-86c9-aa8a0d9e03b6",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "margin",
                            "type": "string"
                        },
                        {
                            "group": "(Custom Properties)",
                            "name": "hidden",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onHistoryRender",
                                "implHandler": [
                                    "component.setTooltip(loc.menu.history);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onHistoryRender",
                            "designerId": "7858f324-00c4-4089-b8c5-6e41243f6b1e"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Tool",
                    "reference": {
                        "name": "tools",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "fa fa-print",
                        "itemId": "print",
                        "margin": "0 8 0 0"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "itemId": "string",
                        "margin": "string"
                    },
                    "name": "MyTool2",
                    "designerId": "4af64929-4187-4875-a9e8-c150392f2dad",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "margin",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onPrintRender",
                                "implHandler": [
                                    "component.setTooltip(loc.menu.print);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onPrintRender",
                            "designerId": "65e14156-08b2-4a87-833c-f6f99f7ee3c0"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onPrintClick",
                                "implHandler": [
                                    "getController('Main').printDocument();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onPrintClick",
                            "designerId": "b1352bc2-b16d-4405-b45e-6fc8f44f8849"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Tool",
                    "reference": {
                        "name": "tools",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "fa fa-file-text-o",
                        "itemId": "changForm",
                        "margin": "0 8 0 0"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "itemId": "string",
                        "margin": "string"
                    },
                    "name": "MyTool3",
                    "designerId": "bf6064a5-6e91-4657-80a4-ef599850f53b",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "margin",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onChangFormRender",
                                "implHandler": [
                                    "component.setTooltip(loc.menu.changeForm);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onChangFormRender",
                            "designerId": "87d20b52-a77a-435a-851a-34209032f49c"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onChangFormClick",
                                "implHandler": [
                                    "var tree = Ext.getCmp('categoryTree');",
                                    "var record = tree.getSelectionModel().getSelection()[0];",
                                    "getController('Config').changeForm(record);",
                                    ""
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onChangFormClick",
                            "designerId": "23385a60-2f88-4798-bb16-c171b3165bf2"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Tool",
                    "reference": {
                        "name": "tools",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "fa fa-slideshare",
                        "itemId": "slideShow",
                        "margin": "0 8 0 0"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "itemId": "string",
                        "margin": "string",
                        "hidden": "boolean"
                    },
                    "name": "MyTool4",
                    "designerId": "a5e7b647-f091-4b44-bf4d-1da376a8f613",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "margin",
                            "type": "string"
                        },
                        {
                            "group": "(Custom Properties)",
                            "name": "hidden",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSlideShowRender",
                                "implHandler": [
                                    "component.setTooltip(loc.menu.slideshow);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onSlideShowRender",
                            "designerId": "3d5cb2e5-d70b-4295-9492-f3d11517462e"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSlideShowClick",
                                "implHandler": [
                                    "if(!getController('Main').hasUserPermission('download')){//check the download permission",
                                    "    Ext.toast(loc.error.lowerLevelToDownload);",
                                    "    return;",
                                    "}",
                                    "var dataInfo = Ext.getCmp('eastPanel').down('#viewer').info;",
                                    "var imgData = (dataInfo.bd_file.length !== 0)? dataInfo.bd_file : dataInfo.originalFiles;",
                                    "if(imgData.length === 0 || imgData.length === undefined){",
                                    "    Ext.Msg.alert('Notice', loc.viewer.noShowData);",
                                    "    return;",
                                    "}",
                                    "var imgArr = [];",
                                    "for(var i=0; i<imgData.length; i++){",
                                    "    var isImage = getController('Config').isImage(imgData[i]);",
                                    "    var path = imgData[i].thumb_path.replace('/thumb/', '/file/');",
                                    "    if(isImage){//add array for only image",
                                    "        imgArr.push({src:path, width:imgData[i].file_width, height:imgData[i].file_height});",
                                    "    }",
                                    "}",
                                    "if(imgArr.length === 0){",
                                    "    Ext.toast(loc.viewer.noShowData);",
                                    "    return;",
                                    "}",
                                    "getController('Viewer').slideShow(imgArr);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onSlideShowClick",
                            "designerId": "8671abda-c686-4fda-abc5-91577570ddb4"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Tool",
                    "reference": {
                        "name": "tools",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "iconCls": "fa fa-envelope-o",
                        "itemId": "sendEmail",
                        "margin": "0 8 0 0"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "itemId": "string",
                        "margin": "string",
                        "hidden": "boolean"
                    },
                    "name": "MyTool5",
                    "designerId": "82b21229-bbc8-45fc-8526-ee0ad9988f03",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "margin",
                            "type": "string"
                        },
                        {
                            "group": "(Custom Properties)",
                            "name": "hidden",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSendEmailRender",
                                "implHandler": [
                                    "component.setTooltip(loc.menu.sendEmail);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onSendEmailRender",
                            "designerId": "773e28e7-7085-46ec-aa50-e526a8e0ec7e"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSendEmailClick",
                                "implHandler": [
                                    "if(!getController('Main').hasUserPermission('print')){//check the email permission as it's the same with print",
                                    "    Ext.toast(loc.error.lowerLevelToEmail);",
                                    "    return;",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onSendEmailClick",
                            "designerId": "1d9aaf35-34d6-4380-8e27-a506a38e8162"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Tool",
                    "reference": {
                        "name": "tools",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": [
                            "{!useColorway}"
                        ],
                        "iconCls": "colorway-small",
                        "itemId": "colorwaySmall",
                        "margin": "0 8 0 0"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "itemId": "string",
                        "margin": "string",
                        "hidden": "binding"
                    },
                    "name": "MyTool6",
                    "designerId": "5cab935c-2bb6-4ffe-80cc-0689717b26a3",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "margin",
                            "type": "string"
                        },
                        {
                            "group": "(Custom Properties)",
                            "name": "hidden",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onColorwaySmallRender",
                                "implHandler": [
                                    "component.setTooltip(loc.menu.colorway);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onColorwaySmallRender",
                            "designerId": "7aaebe2d-2a74-4438-8692-bfcfbc26b9ec"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onColorwaySmallClick",
                                "implHandler": [
                                    "Ext.getCmp('btnColorway').fireEvent('click');"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onColorwaySmallClick",
                            "designerId": "24b13d16-7a15-4f72-bdff-a74b4e72ac15"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": "15 0 0 0",
                        "height": null,
                        "id": "viewPanel",
                        "layout|flex": 2,
                        "layout|region": "north",
                        "minWidth": null,
                        "padding": null,
                        "scrollable": "y"
                    },
                    "configAlternates": {
                        "layout|region": "string",
                        "scrollable": "string",
                        "bodyPadding": "auto",
                        "height": "auto",
                        "id": "string",
                        "padding": "auto",
                        "minWidth": "number",
                        "layout|flex": "number"
                    },
                    "name": "MyPanel1",
                    "designerId": "effb4dc6-f13a-49c6-9935-b42b086efc0d",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onViewPanelAdd",
                                "implHandler": [
                                    "if(component.isMessageOnly){",
                                    "    Ext.getCmp('eastPanel').getHeader().setHidden(true);",
                                    "}",
                                    "else{",
                                    "    Ext.getCmp('eastPanel').getHeader().setHidden(false);",
                                    "}"
                                ],
                                "name": "add",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onViewPanelAdd",
                            "designerId": "0c6f712e-36e5-4e5d-b054-9b6b073a406c"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "animCollapse": false,
                        "bodyPadding": 10,
                        "bodyStyle": [
                            "{",
                            "    'background-color':'#FBFDFF'",
                            "}"
                        ],
                        "collapseDirection": "bottom",
                        "collapsed": false,
                        "collapsible": true,
                        "iconCls": null,
                        "id": "commentPanel",
                        "itemId": "commentPanel",
                        "layout|region": "center",
                        "minHeight": null,
                        "scrollable": true,
                        "title": [
                            "{commentList}"
                        ]
                    },
                    "configAlternates": {
                        "scrollable": "boolean",
                        "animCollapse": "auto",
                        "bodyPadding": "auto",
                        "bodyStyle": "object",
                        "collapseDirection": "string",
                        "collapsed": "boolean",
                        "collapsible": "boolean",
                        "height": "auto",
                        "id": "string",
                        "itemId": "string",
                        "layout|collapseMode": "string",
                        "layout|flex": "number",
                        "layout|region": "string",
                        "layout|split": "boolean",
                        "layout|splitterResize": "boolean",
                        "minHeight": "number",
                        "title": "binding",
                        "designer|userAlias": "string",
                        "designer|userClassName": "string",
                        "iconCls": "string"
                    },
                    "name": "MyPanel2",
                    "designerId": "c4fa5349-55be-4378-9064-50aed132a804",
                    "cn": [
                        {
                            "type": "Ext.XTemplate",
                            "reference": {
                                "name": "tpl",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "tpl",
                                "implHandler": [
                                    "<tpl for=\".\">",
                                    "    <div style=\"width:100%;border:1px solid #cccccc;padding:10px;margin:0 auto 5px;background-color:#ffffff\">",
                                    "        <div style=\"border-bottom:1px dotted #cccccc;\">",
                                    "            <span style=\"font-weight:bold\">Name</span>: {cmt_name} ",
                                    "            <span style=\"font-weight:bold;margin-left:20px\">Date</span>: {cmt_regdate}",
                                    "            <div style=\"float:right;\">",
                                    "                <i class=\"fa fa-trash\" style=\"cursor:pointer;\" onclick=\"getController('Main').removeComment({cmt_idx})\"></i>",
                                    "            </div>",
                                    "        </div>",
                                    "        <div style=\"width:100%;margin-top:5px\">",
                                    "            {cmt_content}",
                                    "        </div>          ",
                                    "    </div>",
                                    "</tpl>"
                                ]
                            },
                            "configAlternates": {
                                "designer|displayName": "string",
                                "implHandler": "code"
                            },
                            "name": "tpl",
                            "designerId": "ed85285d-ab66-441a-9e83-3449b7e28ea7"
                        },
                        {
                            "type": "Ext.panel.Tool",
                            "reference": {
                                "name": "tools",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "iconCls": "fa fa-plus-circle",
                                "itemId": "addComment"
                            },
                            "configAlternates": {
                                "iconCls": "string",
                                "itemId": "string"
                            },
                            "name": "MyTool7",
                            "designerId": "85c93a85-e84d-4843-b491-72ced12b99fc",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onAddCommentAfterRender",
                                        "implHandler": [
                                            "component.setTooltip(loc.main.newComment);"
                                        ],
                                        "name": "afterrender",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onAddCommentAfterRender",
                                    "designerId": "ea0aa4f8-5cf3-4be4-8998-74472e5319ec"
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onAddCommentClick",
                                        "implHandler": [
                                            "this.newComment();"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onAddCommentClick",
                                    "designerId": "cc16ae46-6de8-4e41-b3ae-2d2fbdcfe7cb"
                                }
                            ]
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCommentPanelRender",
                                "implHandler": [
                                    "this.getViewModel().setData({",
                                    "    commentList:loc.main.commentList",
                                    "});"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCommentPanelRender",
                            "designerId": "46a33371-6568-496f-b825-07cbf5aad04d"
                        }
                    ]
                }
            ]
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onMainViewBeforeRender",
                "implHandler": [
                    "/* set current language */",
                    "if(localStorage.getItem('baseLanguage')){",
                    "    var baseLan = localStorage.getItem('baseLanguage');",
                    "    getController('Config').setLanguage(baseLan);",
                    "}",
                    "var baseData = {",
                    "    activateChanged:loc.viewer.activateChanged,",
                    "    activityList:loc.work.activityList,",
                    "    add:loc.main.add,",
                    "    addAttachFile:loc.upload.addAttachFile,",
                    "    addFile:loc.upload.addFile,",
                    "    addRow:loc.upload.addRow,",
                    "    apply:loc.config.apply,",
                    "    attachedFile:loc.upload.attachedFile,",
                    "    attachFile:loc.main.attachFile,",
                    "    autoText:loc.upload.autoText,",
                    "    byGroup:loc.menu.byGroup,",
                    "    cancel:loc.upload.cancel,",
                    "    category:loc.main.category,",
                    "    cellEditTip:loc.upload.cellEditTip,",
                    "    changeForm:loc.menu.changeForm,",
                    "    changeShortcut:loc.config.changeShortcut,",
                    "    chart:loc.menu.chart,",
                    "    checkInterval:loc.message.checkInterval,",
                    "    chooseIcon:loc.config.chooseIcon,",
                    "    colorChip:loc.menu.colorChip,",
                    "    colorway:loc.menu.colorway,",
                    "    colortag:loc.main.colortag,",
                    "    combineMode:loc.config.combineMode,",
                    "    commentList:loc.main.commentList,",
                    "    complete:loc.main.complete,",
                    "    config:loc.main.config,",
                    "    configEditorTitle:loc.config.configEditorTitle,",
                    "    configEditorText:loc.config.configEditorText,",
                    "    copy:loc.menu.copy,",
                    "    datagrpTitle:loc.upload.datagrpTitle,",
                    "    delAllRow:loc.upload.delAllRow,",
                    "    deleteData:loc.main.deleteData,",
                    "    delRow:loc.upload.delRow,",
                    "    description:loc.main.description,",
                    "    detailMode:loc.config.detailMode,",
                    "    detailView:loc.viewer.detailView,",
                    "    displayAsImage:loc.config.displayAsImage,",
                    "    documentBox:'<i class=\"fa fa-file-text-o\" aria-hidden=\"true\" style=\"margin-right:5px\"></i>' + loc.message.documentBox,",
                    "    documentIn:loc.message.documentIn,",
                    "    documentOut:loc.message.documentOut,",
                    "    download:loc.menu.download,",
                    "    dropHere:loc.main.dropHere,",
                    "    edit:loc.menu.edit,",
                    "    editable:loc.menu.editable,",
                    "    editLabel:loc.upload.edit,",
                    "    entry:loc.upload.entry,",
                    "    fileName:loc.upload.fileName,",
                    "    fieldSetting:loc.config.fieldSetting,",
                    "    galleryMode:loc.config.galleryMode,",
                    "    gridTitle:loc.main.gridTitle,",
                    "    getRecordTitle:loc.config.getRecordTitle,",
                    "    getValueTitle:loc.config.getValueTitle,",
                    "    hexField:loc.config.hexField,",
                    "    hexTitle:loc.config.hexTitle,",
                    "    hide:loc.config.hide,",
                    "    hideField:loc.config.hideField,",
                    "    history:loc.menu.history,",
                    "    historyList:loc.main.historyList,",
                    "    imageWithURL:loc.config.imageWithURL,",
                    "    initShortcut:loc.login.initShortcut,",
                    "    itemListNum:loc.config.itemListNum,",
                    "    linkWinTitle:loc.upload.linkWindowTitle,",
                    "    listDisplay:loc.config.listDisplay,",
                    "    login:loc.login.login,",
                    "    logout:loc.login.logout,",
                    "    menu:loc.menu.menu,",
                    "    maxHeight:800,",
                    "    message:'<i class=\"fa fa-sticky-note-o\" aria-hidden=\"true\" style=\"margin-right:5px\"></i>' + loc.message.messageBox,",
                    "    messageIn:loc.message.messageIn,",
                    "    messageOut:loc.message.messageOut,",
                    "    needRestart:loc.config.needRestart,",
                    "    newComment:loc.main.newComment,",
                    "    newPost:loc.menu.newPost,",
                    "    notice:loc.menu.notice,",
                    "    noUse:loc.message.noUse,",
                    "    numberFormatTitle:loc.config.numberFormat,",
                    "    ok:loc.main.ok,",
                    "    onlyViewOwners:loc.config.onlyViewOwners,",
                    "    option1:loc.upload.option1,",
                    "    option2:loc.upload.option2,",
                    "    password:loc.login.password,",
                    "    viewDocument:loc.viewer.viewDocument,",
                    "    percentField:loc.config.percentField,",
                    "    percentTitle:loc.config.percentTitle,",
                    "    printInfo:loc.menu.printInfo,",
                    "    printIt:loc.main.printIt,",
                    "    printSelected:loc.menu.print,",
                    "    recentItem:loc.menu.recentItem,",
                    "    recentlyViewed:loc.viewer.recentlyViewed,",
                    "    referenceCategory:loc.main.referenceCategory,",
                    "    refresh:loc.main.refresh,",
                    "    remove:loc.menu.remove,",
                    "    reset:loc.main.reset,",
                    "    save:loc.config.save,",
                    "    saveClose:loc.main.saveClose,",
                    "    search:loc.search.search,",
                    "    seeActContent:loc.work.seeActContent,",
                    "    select:loc.upload.select,",
                    "    selectField:loc.config.selectField,",
                    "    selectForm:loc.config.selectForm,",
                    "    sendingDoc:loc.message.sendingDoc,",
                    "    setIcon:loc.config.setIcon,",
                    "    setShortcut:loc.config.setShortcut,",
                    "    setting:loc.menu.setting,",
                    "    settingCategory:loc.config.settingCategory,",
                    "    settingForm:loc.config.settingForm,",
                    "    show:loc.config.show,",
                    "    showApprovalBox:loc.config.showApprovalBox,",
                    "    showAsSchedule:loc.config.showAsSchedule,",
                    "    showImageTitle:loc.config.showImageTitle,",
                    "    showSum:loc.config.showSum,",
                    "    showSumTitle:loc.config.showSumTitle,",
                    "    simpleMode:loc.config.simpleMode,",
                    "    submit:loc.upload.submit,",
                    "    textMode:loc.config.textMode,",
                    "    time30:loc.message.time30,",
                    "    time5m:loc.message.time5m,",
                    "    time30m:loc.message.time30m,",
                    "    time60m:loc.message.time60m,",
                    "    title:loc.main.title,",
                    "    update:loc.menu.update,",
                    "    uploading:loc.upload.uploading,",
                    "    uploadTitle:loc.upload.uploadTitle,",
                    "    use:loc.config.use,",
                    "    useAsUserList:loc.config.useAsUserList,",
                    "    userId:loc.login.userId,",
                    "    userInfo:loc.config.userInfo,",
                    "    userList:loc.config.userList,",
                    "    viewCategory:loc.config.viewCategory,",
                    "    viewedListNum:loc.config.viewedListNum,",
                    "    viewInformation:loc.config.viewInformation",
                    "};",
                    "component.getViewModel().setData(baseData);",
                    "getController('Login').sessionCheck();",
                    "",
                    "//setting for splitter",
                    "var splitters = component.query('splitter');",
                    "for(var i=0; i<splitters.length; i++){",
                    "    splitters[i].on('render', function(comp){",
                    "        if(comp.vertical) {",
                    "            comp.setWidth(2);",
                    "            //             comp.setStyle('background', 'transparent');",
                    "            var clpBtn = Ext.get(comp.getEl().dom.children[0]);",
                    "            if(clpBtn){",
                    "                if(clpBtn.id == 'eastPanel-splitter-collapseEl'){",
                    "                    clpBtn.setStyle({left:'-10px'});",
                    "                }",
                    "                clpBtn.setStyle({",
                    "                    width:'10px',",
                    "                    'z-index':200",
                    "                });",
                    "            }",
                    "        }",
                    "    });",
                    "}",
                    "",
                    "//making a function replaceAt()",
                    "String.prototype.replaceAt=function(index, replacement) {",
                    "    return this.substr(0, index) + replacement+ this.substr(index + replacement.length);",
                    "};",
                    "//load basic setting in json file",
                    "var configStore = Ext.create('Ext.data.Store', {",
                    "    fields:[",
                    "        {name:'colorchipCategory'},",
                    "        {name:'designSourceCategory'}",
                    "    ],",
                    "    autoLoad:true,",
                    "    storeId:'ConfigStore',",
                    "    proxy: {",
                    "        type: 'ajax',",
                    "        url : 'actor.json',",
                    "        reader: {",
                    "            type: 'json'",
                    "        }",
                    "    }",
                    "});",
                    "",
                    "//to use corrent number format when it needs summery of render:graph",
                    "Ext.define('column.CustomNumberColumn',",
                    "           {",
                    "    extend: 'Ext.grid.column.Number',",
                    "    alias: 'widget.customnumbercolumn',",
                    "    initComponent: function() {",
                    "        // set scope property to this, so in renderer this will refers to column itself",
                    "        this.scope = this;",
                    "",
                    "        this.callParent();",
                    "    }",
                    "});"
                ],
                "name": "beforerender",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onMainViewBeforeRender",
            "designerId": "6645d9c7-4e47-483d-951f-85c044ace0ce"
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onMainViewResize",
                "implHandler": [
                    "windowMaxWidth = width - 20;",
                    "windowMaxHeight = height - 20;"
                ],
                "name": "resize",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onMainViewResize",
            "designerId": "077b9948-b5c2-4b75-b3ee-147a75fe0370"
        }
    ]
}
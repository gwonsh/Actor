/*
 * File: app/view/GridNormalViewController1.js
 *
 * This file was generated by Sencha Architect version 4.2.2.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Actor.view.GridNormalViewController1', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.gridtext',

    onGridNormalHeaderClick: function(ct, column, e, t, eOpts) {
        // var grid = ct.up('gridpanel');
        // var cif = column.colsInfo;
        // if(cif !== undefined){//when header has cols information(given by getGridColumns())
        //     var menu = Ext.create('Ext.menu.Menu');
        //     if(cif.cols_type == 'radio' || cif.cols_type == 'select' || cif.cols_type == 'check'){
        //         Ext.Array.each(cif.cols_data, function(entry){
        //             var item = {
        //                 text:entry,
        //                 listeners:[
        //                     {
        //                         click:function(item, e){
        //                             var store = grid.getStore();
        //                             store.currentPage = 1;
        //                             var idx = getController('Search').getSearchIdx(cif.cols_idx);
        //                             var query = '&ca_id=' + grid.categoryId + '&se_data_'+idx+'='+item.text;
        //                             getController('Search').search(query, store);
        //                         }
        //                     }
        //                 ]
        //             };
        //             menu.add(item);
        //             menu.showBy(e.target, 'tc-bc');
        //         });
        //     }
        //     else if(cif.cols_type == 'colorchk'){
        //         Ext.Array.each(cif.cols_data, function(entry, index){
        //             var margin = '0 0 0 0';
        //             if(index === 0){
        //                 margin = '10 0 0 0';
        //             }
        //             var html = '<div style="float:left;width:13px;height:13px;background-color:'+entry[1]+'"></div>';
        //             html += '<span style="float:left;margin-left:3px">' + entry[0] + '</span';
        //             var item = {
        //                 xtype:'button',
        //                 ui: 'plain-toolbar-small',
        //                 textAlign:'left',
        //                 height:25,
        //                 margin:margin,
        //                 value: encodeURIComponent(entry[2]),
        //                 html:html,
        //                 handler:function(button){
        //                     var idx = getController('Search').getSearchIdx(cif.cols_idx);
        //                     var store = grid.getStore();
        //                     store.currentPage = 1;
        //                     var query = '&ca_id=' + grid.categoryId + '&se_data_'+idx+'='+button.value.toString();
        //                     getController('Search').search(query, store);
        //                     menu.destroy();
        //                 }
        //             };
        //             menu.add(item);
        //         });
        //         menu.showBy(e.target, 'tc-bc');

        //     }
        //     else if(cif.cols_type == 'textarea' || cif.cols_type == 'datagrp' || cif.cols_type == 'text' || cif.cols_type == 'dbtext' || cif.cols_type == 'number' || cif.cols_type == 'dbl_select' || cif.cols_type == 'url'){
        //         var item = Ext.create('Ext.form.field.Text',{
        //             xtype:'textfield',
        //             width:120,
        //             margin:5,
        //             listeners:[
        //                 {
        //                     render:function(textfield){
        //                         textfield.el.on('keyup', function(e){
        //                             if(e.keyCode == 13){
        //                                 var idx = getController('Search').getSearchIdx(cif.cols_idx);
        //                                 var store = grid.getStore();
        //                                 store.currentPage = 1;
        //                                 var query = '&ca_id=' + grid.categoryId + '&se_data_'+idx+'='+item.getValue();
        //                                 getController('Search').search(query, store);
        //                                 menu.destroy();
        //                             }
        //                         });
        //                     }
        //                 }
        //             ]
        //         });
        //         menu.add(item);
        //         menu.showBy(e.target, 'tc-bc');
        //     }

        // }
    }

});
